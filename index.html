<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeConcise | Setup Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-light-gray: #edf1f3;
            --color-medium-gray: #d9dfe1;
            --color-flamingo: #f2617a;
            --color-dark-blue: #003d4f;
            --color-sapphire: #47a1ad;
            --color-amethyst-purple: #634F7D;
            --color-jade-green: #6B9E78;
            --color-turmeric-yellow: #CC850A;
            --color-dark-gray: #666666;
        }

        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--color-light-gray);
            color: var(--color-dark-gray);
        }

        h2, h3 {
           color: var(--color-dark-blue);
        }

        @keyframes animated-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .header-gradient {
            background: linear-gradient(-45deg, var(--color-sapphire), var(--color-amethyst-purple), var(--color-flamingo));
            background-size: 400% 400%;
            animation: animated-gradient 15s ease infinite;
        }
        .tab-active {
            border-bottom-color: var(--color-sapphire);
            color: var(--color-sapphire);
            font-weight: 600; /* semibold */
        }
        
        .note {
            border-left-width: 4px;
            border-radius: 0 0.5rem 0.5rem 0;
            padding: 1rem;
            display: flex;
            align-items: flex-start;
        }
        .note-icon {
            height: 1.5rem; width: 1.5rem;
            margin-right: 1rem;
            flex-shrink: 0;
            margin-top: 0.25rem;
        }
        .note-info {
            background-color: #47a1ad1a;
            border-color: var(--color-sapphire);
        }
        .note-info h3, .note-info p, .note-info svg { color: var(--color-sapphire); }
        .note-info code { background-color: #47a1ad33; color: var(--color-dark-blue); }

        .note-warning {
            background-color: #cc850a1a;
            border-color: var(--color-turmeric-yellow);
        }
        .note-warning h3, .note-warning p, .note-warning svg { color: var(--color-turmeric-yellow); }
        .note-warning code { background-color: #cc850a33; color: var(--color-dark-blue); }


        /* Custom styles for modal content */
        .modal-content h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            border-bottom: 1px solid var(--color-medium-gray);
            padding-bottom: 0.5rem;
        }
        .modal-content h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        .modal-content p, .modal-content li {
            color: var(--color-dark-gray);
        }
        .modal-content ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .modal-content table {
            width: 100%;
            margin-top: 1rem;
            border-collapse: collapse;
        }
        .modal-content th, .modal-content td {
            border: 1px solid var(--color-medium-gray);
            padding: 0.75rem;
            text-align: left;
        }
        .modal-content th {
            background-color: var(--color-light-gray);
            color: var(--color-dark-blue);
        }
        .modal-content :not(pre) > code {
            background-color: var(--color-medium-gray);
            color: var(--color-flamingo);
            padding: 2px 5px;
            border-radius: 4px;
            font-family: monospace;
        }
        .modal-content pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
        }
        .card-enabled {
            border-color: var(--color-jade-green) !important;
            background-color: #6B9E7820 !important;
        }
        .card-unselected {
            background-color: #f2617a20;
            border-color: #f2617a80;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-weight: 600;
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
            border: 1px solid transparent;
        }
        .btn-primary {
            background-color: var(--color-sapphire);
            border-color: var(--color-sapphire);
            color: white;
        }
        .btn-primary:hover { background-color: #3d8a95; border-color: #3d8a95; }
        
        .btn-danger {
            background-color: var(--color-flamingo);
            border-color: var(--color-flamingo);
            color: white;
        }
        .btn-danger:hover { background-color: #e0536a; border-color: #e0536a; }

        .btn-success {
            background-color: var(--color-jade-green);
            border-color: var(--color-jade-green);
            color: white;
        }

        .btn-secondary {
            background-color: var(--color-medium-gray);
            border-color: var(--color-medium-gray);
            color: var(--color-dark-blue);
        }
        .btn-secondary:hover { background-color: #c8d0d2; border-color: #c8d0d2;}

        .btn-outline {
            background-color: white;
            border-color: var(--color-medium-gray);
            color: var(--color-dark-gray);
        }
        .btn-outline:hover { background-color: var(--color-light-gray); }

        .btn-dark {
            background-color: var(--color-dark-gray);
            border-color: var(--color-dark-gray);
            color: white;
        }
        .btn-dark:hover { background-color: #555555; border-color: #555555; }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="header-gradient text-white py-8 px-4 text-center">
        <div class="container mx-auto max-w-4xl">
            <h1 class="text-4xl sm:text-5xl font-bold">
                CodeConcise Setup Guide
            </h1>
            <p class="mt-4 text-lg opacity-90">Your step-by-step guide to start the app on your repo in the local</p>
        </div>
    </header>

    <div class="container mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
       <div class="lg:grid lg:grid-cols-4 lg:gap-12">
            <!-- Left Sidebar: Sticky Roadmap -->
            <aside class="lg:col-span-1 mb-12 lg:mb-0">
                <nav class="sticky top-8">
                    <h3 class="font-semibold text-lg mb-3" style="color: var(--color-dark-blue);">Setup Roadmap</h3>
                    <ul class="space-y-4">
                        <li>
                            <a href="#prerequisites" class="font-semibold text-dark-gray hover:text-sapphire transition-colors">Prerequisites</a>
                            <ul class="mt-2 pl-4 space-y-2 border-l" style="border-color: var(--color-medium-gray);">
                                <li><a href="#step-venv" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Virtual Environment</a></li>
                                <li><a href="#step-poetry" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Install Poetry</a></li>
                                <li><a href="#step-deps" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Install Dependencies</a></li>
                                <li><a href="#step-env" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Environment File</a></li>
                                <li><a href="#step-clone" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Clone Repository</a></li>
                            </ul>
                        </li>
                         <li>
                            <a href="#ingestion-pipeline" class="font-semibold text-dark-gray hover:text-sapphire transition-colors">Ingestion Pipeline</a>
                            <ul class="mt-2 pl-4 space-y-2 border-l" style="border-color: var(--color-medium-gray);">
                                <li><a href="#step-config-template" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Choose Config Template</a></li>
                                <li><a href="#tool-library" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Tool Library</a></li>
                                <li><a href="#define-stages-section" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Build `config.yaml`</a></li>
                                <li><a href="#step-run-pipeline" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Run Pipeline</a></li>
                            </ul>
                        </li>
                         <li>
                            <a href="#run-application" class="font-semibold text-dark-gray hover:text-sapphire transition-colors">Running Application</a>
                            <ul class="mt-2 pl-4 space-y-2 border-l" style="border-color: var(--color-medium-gray);">
                                <li><a href="#step-ui-dir" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Navigate to UI</a></li>
                                <li><a href="#step-yarn-install" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Install Dependencies</a></li>
                                <li><a href="#step-start-all" class="text-sm text-dark-gray hover:text-sapphire transition-colors">Start Application</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </aside>
            
            <!-- Right Content Area -->
            <main class="lg:col-span-3">
                <div class="space-y-12">
                    <!-- Prerequisites Section -->
                    <section id="prerequisites" class="p-8 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-xl transition-shadow duration-300">
                        <h2 class="text-2xl font-semibold mb-6 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" style="color: var(--color-sapphire);" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Prerequisites
                        </h2>
                        <div class="space-y-4">
                                <!-- Note: Neo4j -->
                            <div class="note note-info">
                                <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <div>
                                    <h3 class="font-semibold">Running Neo4j Instance</h3>
                                    <p>Ensure a Neo4j instance is running. Connection credentials (URI, username, password, database) must be set in the <code class="px-1 py-0.5 rounded">.env</code> file.</p>
                                </div>
                            </div>
                                <!-- Note: Python Version -->
                            <div class="note note-warning">
                                <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
                                <div>
                                    <h3 class="font-semibold">Python Version</h3>
                                    <p>Use Python <code class="px-1 py-0.5 rounded">3.11.x</code> or <code class="px-1 py-0.5 rounded">3.12.x</code>. Other versions are not supported.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-12 space-y-8">
                            <!-- Step: Virtual Environment -->
                            <div id="step-venv">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Create & Activate Virtual Environment</h3>
                                    <p class="mb-4 text-dark-gray">Select your operating system to get the correct activation command.</p>
                                    
                                    <div id="os-selector" class="flex space-x-2 mb-4">
                                        <button data-os="linux" class="os-button btn btn-primary">Linux | macOS</button>
                                        <button data-os="windows" class="os-button btn btn-outline">Windows</button>
                                    </div>

                                    <div id="linux-code-block" class="code-block" data-lang="Linux | macOS">
                                        <pre><code class="language-bash"># Create a virtual environment
python3 -m venv venv

# Activate the virtual environment
source venv/bin/activate</code></pre>
                                    </div>
                                    <div id="windows-code-block" class="code-block hidden" data-lang="Windows">
                                        <pre><code class="language-bash"># Create a virtual environment
python3 -m venv venv

# Activate the virtual environment
venv\Scripts\activate</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Step: Install Poetry -->
                            <div id="step-poetry">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Install Poetry</h3>
                                    <p class="mb-4 text-dark-gray">We use Poetry for dependency management. Install it if you haven't already.</p>
                                    <div class="code-block" data-lang="Bash">
                                        <pre><code class="language-bash">pip install poetry</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Step: Install Project Dependencies -->
                            <div id="step-deps">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Install Project Dependencies</h3>
                                    <p class="mb-4 text-dark-gray">Once Poetry is installed, install all project dependencies:</p>
                                    <div class="code-block" data-lang="Bash">
                                        <pre><code class="language-bash">poetry install</code></pre>
                                    </div>
                                    <p class="mt-4 text-dark-gray">Now proceed with the steps below.</p>
                                </div>
                            </div>

                            <!-- Step: Environment File -->
                            <div id="step-env">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Set Up Environment File</h3>
                                    <p class="mb-4 text-dark-gray">Copy the environment template and fill in your Neo4j credentials and other required values.</p>
                                    <div class="code-block" data-lang="Bash">
                                        <pre><code class="language-bash">cp env-template .env</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Step: Clone Repository -->
                            <div id="step-clone">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Clone the Source Repository</h3>
                                    <p class="mb-4 text-dark-gray">Paste your repository URL below to generate the correct clone command.</p>
                                    
                                    <div class="mb-4">
                                        <label for="repo-url-input" class="block text-sm font-medium text-dark-gray mb-2">Your Git Repository URL:</label>
                                        <input type="text" id="repo-url-input" placeholder="https://github.com/user/repository.git" class="w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-cyan-500 focus:border-cyan-500 transition-colors" style="color:var(--color-dark-blue)">
                                    </div>

                                    <div class="code-block" data-lang="Bash">
                                        <pre><code id="clone-command-code" class="language-bash">mkdir repo_data
cd repo_data
git clone &lt;your-code-repo-url&gt;
cd ..</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Ingestion Pipeline Section -->
                    <section id="ingestion-pipeline" class="p-8 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-xl transition-shadow duration-300">
                        <h2 class="text-2xl font-semibold mb-8 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" style="color: var(--color-sapphire);" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" /></svg>
                            Running the Ingestion Pipeline
                        </h2>

                        <div class="space-y-8">
                            <!-- Step: Configuration Template -->
                            <div id="step-config-template">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Choose a Configuration Template</h3>
                                    <p class="mb-4 text-dark-gray">Select a configuration template based on your cloud provider and copy it to `config.yaml`.</p>
                                    
                                    <!-- Button-based Selector -->
                                    <div id="config-selector" class="flex space-x-2 mb-4">
                                        <button data-cloud="azure" class="config-button btn btn-primary">Azure</button>
                                        <button data-cloud="aws" class="config-button btn btn-outline">AWS</button>
                                    </div>

                                    <!-- Code Blocks -->
                                    <div id="aws-code-block" class="code-block hidden" data-lang="AWS">
                                        <pre><code class="language-bash">cp aws_config_template.yaml config.yaml</code></pre>
                                    </div>
                                    <div id="azure-code-block" class="code-block" data-lang="Azure">
                                        <pre><code class="language-bash">cp azure_config_template.yaml config.yaml</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- Tool & Action Library Section -->
                            <section id="tool-library" class="p-8 bg-gray-50/50 rounded-xl border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                <h2 class="text-2xl font-semibold mb-6 flex items-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" style="color:var(--color-sapphire);" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z" />
                                    </svg>
                                    Tool & Action Library
                                </h2>
                        
                                <!-- Tabs -->
                                <div class="border-b mb-8" style="border-color: var(--color-medium-gray);">
                                    <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                                        <button id="ingestion-tab" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent hover:text-sapphire hover:border-gray-300 tab-active">
                                            Ingestion Tools
                                        </button>
                                        <button id="comprehension-tab" class="tab-button whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent text-dark-gray hover:text-sapphire hover:border-gray-300">
                                            Comprehension Actions
                                        </button>
                                    </nav>
                                </div>
                        
                                <!-- Ingestion Tools Content -->
                                <div id="ingestion-content">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">BluAge Loader</h3><p class="text-sm mt-2">Constructs a dependency graph from BluAge JSON output.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="bluage">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="bluage">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">IDMS Loader</h3><p class="text-sm mt-2">Parses IDMS COBOL applications using SMOJOL.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="idms">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="idms">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">Java Loader</h3><p class="text-sm mt-2">Parses Java codebases and maps their structure to a graph.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="java">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="java">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">CSharp Loader</h3><p class="text-sm mt-2">Parses a C# codebase into a structured dependency graph.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="csharp">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="csharp">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">TSql Ingestor</h3><p class="text-sm mt-2">Processes Microsoft T-SQL files into a dependency graph.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="tsql">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="tsql">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">PLSQL Loader</h3><p class="text-sm mt-2">Parses PL/SQL codebases into a structured graph.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="plsql">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="plsql">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">Generic Loader</h3><p class="text-sm mt-2">Maps any directory structure into a structural graph.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="generic">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="generic">View Docs</button></div>
                                        </div>
                                    </div>
                                </div>
                        
                                <!-- Comprehension Actions Content (Initially Hidden) -->
                                <div id="comprehension-content" class="hidden">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                            <span class="absolute top-0 right-0 transform translate-x-4 -translate-y-2 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md z-10 uppercase" style="background-color: var(--color-jade-green);">ENABLED BY DEFAULT</span>
                                            <div><h3 class="font-bold text-lg">Static Code Summary</h3><p class="text-sm mt-2">Creates summaries and vector embeddings for code snippets.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn" data-tool="static_code_summary">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="static_code_summary">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                            <span class="absolute top-0 right-0 transform translate-x-4 -translate-y-2 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md z-10 uppercase" style="background-color: var(--color-jade-green);">ENABLED BY DEFAULT</span>
                                            <div><h3 class="font-bold text-lg">Dynamic Code Summary</h3><p class="text-sm mt-2">Generates deep insights via simulated Q&A sessions with an LLM.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn" data-tool="dynamic_code_summary">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="dynamic_code_summary">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">Capability Extraction</h3><p class="text-sm mt-2">Automatically identifies business capabilities from code.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="capability_extraction">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="capability_extraction">View Docs</button></div>
                                        </div>
                                        <div id="capability-association-card" class="tool-card p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">Capability Association</h3><p class="text-sm mt-2">Organizes extracted capabilities into a hierarchy. (Triggered automatically).</p></div>
                                            <div class="mt-4"><button class="view-docs-button w-full btn btn-secondary" data-tool="capability_association">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">Capability Mappings</h3><p class="text-sm mt-2">Maps code to a hierarchical business capability model.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="capability_mappings">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="capability_mappings">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">Seam Extraction</h3><p class="text-sm mt-2">Identifies external boundaries like API calls and DB access.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="seam_extraction">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="seam_extraction">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">Business Capability Mapping</h3><p class="text-sm mt-2">Maps code to a predefined list of business capabilities.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="business_capability_mapping">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="business_capability_mapping">View Docs</button></div>
                                        </div>
                                        <div class="tool-card relative p-6 rounded-lg border flex flex-col justify-between transition-all duration-300 hover:shadow-xl hover:-translate-y-1 card-unselected">
                                            <div><h3 class="font-bold text-lg">AWS Q Developer Transform</h3><p class="text-sm mt-2">Links code with documentation from Amazon Q Developer.</p></div>
                                            <div class="mt-4 flex space-x-2"><button class="add-to-config-button flex-1 btn btn-primary" data-tool="aws_q_transform">Add to Config</button><button class="view-docs-button flex-1 btn btn-secondary" data-tool="aws_q_transform">View Docs</button></div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Step: Define Stages -->
                            <div id="define-stages-section" class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                <h3 class="text-xl font-semibold mb-4">Your `config.yaml`</h3>
                                <p class="mb-4 text-dark-gray">This configuration is built dynamically. Copy the final version into your `config.yaml` file.</p>
                                <div class="note note-info my-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                    <div>
                                        <p>Once the template is ready, configure the required parameters (mentioned in comments) as per your needs. In case of any doubt, refer to the "View Docs" button for each tool and action.</p>
                                    </div>
                                </div>
                                
                                <div class="code-block" data-lang="YAML">
                                    <pre><code id="main-config-yaml" class="language-yaml"></code></pre>
                                </div>
                            </div>

                            <!-- Step: Run the Pipeline -->
                            <div id="step-run-pipeline" class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                <h3 class="text-xl font-semibold mb-4">Run the Pipeline</h3>
                                <p class="mb-4 text-dark-gray">Execute the pipeline using Poetry:</p>
                                <div class="code-block" data-lang="Bash">
                                    <pre><code class="language-bash">poetry run python -m analysis.main --config config.yaml</code></pre>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <section id="run-application" class="p-8 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-xl transition-shadow duration-300">
                        <h2 class="text-2xl font-semibold mb-6 flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" style="color: var(--color-sapphire);" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            Running the Application
                        </h2>
                        
                        <div class="note note-info mb-8">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            <div>
                                <h3 class="font-semibold">Node.js Requirement</h3>
                                <p>Ensure you have <strong>Node.js v22.6.0</strong> installed via <code>nvm</code>. All dependencies should be installed before starting.</p>
                            </div>
                        </div>
                        
                        <div class="space-y-8">
                            <div id="step-ui-dir">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Go to the UI Directory</h3>
                                    <p class="mb-4 text-dark-gray">From the root directory:</p>
                                    <div class="code-block" data-lang="Bash">
                                        <pre><code class="language-bash">cd app/ui</code></pre>
                                    </div>
                                </div>
                            </div>
                            <div id="step-yarn-install">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Install Dependencies</h3>
                                    <p class="mb-4 text-dark-gray">Run:</p>
                                    <div class="code-block" data-lang="Bash">
                                        <pre><code class="language-bash">yarn install</code></pre>
                                    </div>
                                </div>
                            </div>
                            <div id="step-start-all">
                                <div class="p-6 rounded-lg bg-gray-50 border border-gray-200/80 transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
                                    <h3 class="text-xl font-semibold mb-4">Start the Full Application</h3>
                                    <p class="mb-4 text-dark-gray">Run both backend and frontend together:</p>
                                    <div class="code-block" data-lang="Bash">
                                        <pre><code class="language-bash">yarn start:all</code></pre>
                                    </div>
                                    <div class="mt-6 flex flex-col sm:flex-row gap-4">
                                        <a href="http://localhost:3000" target="_blank" class="flex-1 text-center btn btn-primary font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:-translate-y-0.5 flex items-center justify-center space-x-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                            </svg>
                                            <span>Launch UI (localhost:3000)</span>
                                        </a>
                                        <a href="http://localhost:8081" target="_blank" class="flex-1 text-center btn btn-dark font-semibold py-3 px-6 rounded-lg shadow-md transition-all duration-300 transform hover:-translate-y-0.5 flex items-center justify-center space-x-2">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
                                            </svg>
                                            <span>View API (localhost:8081)</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </main>
       </div>
    </div>

    <!-- Modal -->
    <div id="snippet-modal" class="fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
        <div class="bg-white rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl" style="border-color: var(--color-medium-gray);">
            <div class="flex justify-between items-center p-4 flex-shrink-0" style="border-bottom: 1px solid var(--color-medium-gray);">
                <h2 id="modal-title" class="text-2xl font-bold"></h2>
                <button id="close-modal-button" class="text-gray-500 hover:text-gray-900">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="modal-content" class="p-6 overflow-y-auto modal-content">
                <!-- Dynamic content will be injected here -->
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toolDetails = {
                bluage: {
                    title: 'Ingestion Tool: BluAgeLoader',
                    type: 'ingestion',
                    yamlSnippet: `- package: codeconcise.sdk.tools.ingestion.bluage.bluage_loader
  name: BluAgeLoader
  input_path: ./source/code                       # Path to source root directory
  additional_configs:
    dependencies_path: ./dependencies/dependencies.json # Path to BluAge JSON
  included_node_types:
    - "*"                                                 # Include all node types
  included_relation_types:
    - "*"                                                 # Include all relationship types`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>BluAgeLoader</code> is a specialized ingestion tool designed to construct a dependency graph using structured JSON output files generated by <code>BluAge</code>. It extracts software components and their interdependencies, transforming them into nodes and edges in a graph database.</p>
                        <hr class="my-6 border-gray-300">

                        <h2>What This Tool Does</h2>
                        <ul class="space-y-2">
                            <li>Parses the BluAge <code>dependencies.json</code> file.</li>
                            <li>Constructs a <strong>path-based unique identifier</strong> for each software component using its <code>type</code> and <code>name</code>.</li>
                            <li>Creates nodes representing components and relationships representing their dependencies.</li>
                            <li>Loads the extracted structure into the configured graph database.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">

                        <h2>When to Use</h2>
                        <p>Use <code>BluAgeLoader</code> when:</p>
                        <ul class="space-y-2">
                            <li>You have BluAge-generated JSON files from a code transformation project.</li>
                            <li>You want to analyze component dependencies at scale.</li>
                            <li>You need a structured graph representation of your legacy application or transformation artifacts.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">

                        <h2>What It Produces</h2>
                        <ul class="space-y-4">
                            <li><strong>Nodes</strong> of type <code>CodeConciseNode</code> with properties like:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>id</code>: <code>type:name</code> (e.g., <code>Program:PAYROLL</code>)</li>
                                    <li><code>type</code>: component type from BluAge</li>
                                    <li><code>display_name</code>: component name</li>
                                    <li><code>path</code>: generated file path</li>
                                    <li><code>text</code>: file contents (if accessible)</li>
                                </ul>
                            </li>
                            <li><strong>Edges</strong> of type <code>Edge</code>, capturing dependency relationships like:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>CALLS</code>, <code>USES</code>, or <code>DEPENDS_ON</code></li>
                                </ul>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">

                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- package: codeconcise.sdk.tools.ingestion.bluage.bluage_loader
  name: BluAgeLoader
  input_path: ./source/code                            # Path to source root directory
  additional_configs:
    dependencies_path: ./dependencies/dependencies.json    # Path to BluAge JSON
  included_node_types:
    - "*"                                                 # Include all node types
  included_relation_types:
    - "*"                                                 # Include all relationship types</code></pre></div>
                        
                        <p class="mt-4 italic text-gray-600">Note: Example <code>dependencies.json</code> file is provided below.</p>
                        
                        <div class="code-block" data-lang="JSON"><pre><code class="language-json">[
  {
      "name": "README.md",
      "path": "files/README.md",
      "type": "md",
      "dependencies": []
  },
  {
    "name": "CODE_OF_CONDUCT.md",
    "path": "files/CODE_OF_CONDUCT.md",
    "type": "md",
    "dependencies": []
  },
  {
      "name": "CVTRA04Y",
      "path": "cpy/CVTRA04Y.cpy",
      "type": "CPY",
      "dependencies": []
  },
  {
    "name": "CSUSR01Y",
    "path": "cpy/CSUSR01Y.cpy",
    "type": "CPY",
    "dependencies": []
  }
]</code></pre></div>
                        <hr class="my-6 border-gray-300">

                        <h2>Required Parameters</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>input_path</code></td>
                                    <td>Path to the root directory of source files</td>
                                </tr>
                                <tr>
                                    <td><code>additional_configs</code></td>
                                    <td>Must contain <code>dependencies_path</code>, pointing to BluAge's JSON output</td>
                                </tr>
                                <tr>
                                    <td><code>included_node_types</code></td>
                                    <td>Types of nodes to include (use <code>["*"]</code> to include all)</td>
                                </tr>
                                <tr>
                                    <td><code>included_relation_types</code></td>
                                    <td>Types of edges to include (use <code>["*"]</code> to include all)</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">

                        <h2>Internal Workflow Summary</h2>
                        <ol class="list-decimal pl-5 space-y-4">
                            <li>
                                <strong>Load JSON</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Reads and normalizes the <code>dependencies.json</code> using utility methods.</li></ul>
                            </li>
                            <li>
                                <strong>Ensure Path Uniqueness</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Adds a <code>path</code> field for each node and dependency in the format <code>type:name</code>.</li></ul>
                            </li>
                            <li>
                                <strong>Node Generation</strong>
                                <ul class="list-disc pl-6 mt-1 space-y-1">
                                    <li>Attempts to read associated source file contents.</li>
                                    <li>Creates <code>CodeConciseNode</code> instances with <code>text</code>, <code>path</code>, and metadata.</li>
                                </ul>
                            </li>
                            <li>
                                <strong>Edge Generation</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Creates <code>Edge</code> instances connecting source and target nodes based on declared dependencies.</li></ul>
                            </li>
                            <li>
                                <strong>Graph Population</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Populates the graph using <code>graph_constructor.client().populate_db()</code>.</li></ul>
                            </li>
                        </ol>
                        <hr class="my-6 border-gray-300">

                        <h2>Notes</h2>
                        <ul class="space-y-2">
                            <li>If the associated source file cannot be found, the <code>text</code> field will be left empty, and a debug log will be emitted.</li>
                            <li>The loader uses a Merkle-based change detector to skip unchanged files in subsequent runs.</li>
                            <li>File access and node creation are reported to the <code>StageObserver</code> for metrics and monitoring.</li>
                        </ul>
                    `
                },
                csharp: {
                    title: 'Ingestion Tool: CSharpLoader',
                    type: 'ingestion',
                    yamlSnippet: `- package: codeconcise.sdk.tools.ingestion.csharp_13.csharp_ingestor
  name: CsharpIngestor
  input_path: ./projects/my-csharp-app              # Path to source root directory
  included_node_types:
    - "*"
  included_relation_types:
    - "*"
  additional_configs:
    project_name: my_csharp_project                  # Optional grouping label`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>CSharpLoader</code> is a specialized ingestion tool designed to parse and transform a C# codebase into a structured dependency graph. It uses ANTLR-based parsing to extract classes, methods, and relationships from the source files and populate them into a graph database for deeper analysis with CodeConcise.</p>
                        <hr class="my-6 border-gray-300">

                        <h2>What This Tool Does</h2>
                        <ul class="space-y-2">
                            <li>Traverses the given directory tree for <code>.cs</code> source files.</li>
                            <li>Parses C# code using ANTLR grammar to identify program elements.</li>
                            <li>Extracts nodes such as classes, interfaces, and methods.</li>
                            <li>Identifies relationships such as <code>CALLS</code>, <code>EXTENDS</code>, <code>IMPLEMENTS</code>, and <code>CONTAINS</code>.</li>
                            <li>Populates the graph database with structured nodes and edges.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">

                        <h2>When to Use</h2>
                        <p>Use <code>CSharpLoader</code> when:</p>
                        <ul class="space-y-2">
                            <li>You want to analyze or modernize a C# application by extracting its structure.</li>
                            <li>You need to visualize dependencies in a C# project using a graph model.</li>
                            <li>You're preparing C# source code for enrichment and comprehension in the CodeConcise pipeline.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">

                        <h2>What It Produces</h2>
                        <ul class="space-y-4">
                            <li><strong>Nodes</strong> of type <code>CodeConciseNode</code> with properties such as:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>id</code>: Unique node identifier (based on file and element location)</li>
                                    <li><code>type</code>: Entity type (<code>Class</code>, <code>Method</code>, <code>Interface</code>, etc.)</li>
                                    <li><code>display_name</code>: Readable name of the component</li>
                                    <li><code>path</code>: Full path to the source file</li>
                                    <li><code>text</code>: Source code content of the element</li>
                                    <li><code>project_name</code>: Optional tag for project grouping (if specified)</li>
                                </ul>
                            </li>
                            <li><strong>Edges</strong> of type <code>Edge</code>, capturing semantic relationships like:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>CALLS</code>, <code>EXTENDS</code>, <code>IMPLEMENTS</code>, <code>CONTAINS</code></li>
                                </ul>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">

                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- package: codeconcise.sdk.tools.ingestion.csharp_13.csharp_ingestor
  name: CsharpIngestor
  input_path: ./projects/my-csharp-app              # Path to source root directory
  included_node_types:
    - "*"
  included_relation_types:
    - "*"
  additional_configs:
    project_name: my_csharp_project                  # Optional grouping label</code></pre></div>
                        <hr class="my-6 border-gray-300">

                        <h2>Required Parameters</h2>
                        <table>
                            <thead><tr><th>Parameter</th><th>Description</th></tr></thead>
                            <tbody>
                                <tr><td><code>input_path</code></td><td>Absolute or relative path to the C# source code root directory</td></tr>
                                <tr><td><code>additional_configs.project_name</code></td><td>Project-level tag to group the extracted nodes</td></tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">

                        <h2>Internal Workflow Summary</h2>
                        <ol class="list-decimal pl-5 space-y-4">
                            <li><strong>File Discovery</strong><ul class="list-disc pl-6 mt-1"><li>Recursively traverses all files within the given <code>input_path</code> for <code>.cs</code> extensions.</li></ul></li>
                            <li><strong>ANTLR-Based Parsing</strong><ul class="list-disc pl-6 mt-1"><li>Uses C# grammar to parse code structure and extract elements like classes, methods, and interfaces.</li></ul></li>
                            <li><strong>Node Construction</strong><ul class="list-disc pl-6 mt-1"><li>Creates <code>CodeConciseNode</code> instances with extracted metadata and source content.</li></ul></li>
                            <li><strong>Edge Construction</strong><ul class="list-disc pl-6 mt-1"><li>Builds <code>Edge</code> instances for relationships among program elements (e.g., method calls, class inheritance).</li></ul></li>
                            <li><strong>Graph Population</strong><ul class="list-disc pl-6 mt-1"><li>Populates the graph using <code>graph_constructor.client().populate_db()</code> with nodes and edges.</li></ul></li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        
                        <h2>Notes</h2>
                        <ul class="space-y-2">
                            <li>Parsing errors are gracefully handled with logging to ensure maximum node extraction.</li>
                            <li>If <code>project_name</code> is provided, it will be added to each node’s metadata for filtering and analytics.</li>
                            <li>The loader integrates with <code>StageObserver</code> for tracking file access and ingestion metrics.</li>
                            <li>Supports modular ingestion, making it easy to combine with other loaders in a multi-language project.</li>
                        </ul>
                    `
                },
                generic: {
                    title: 'Ingestion Tool: GenericLoader',
                    type: 'ingestion',
                    yamlSnippet: `- package: codeconcise.sdk.tools.ingestion.generic.generic_loader
  name: GenericLoader
  input_path: ./my/data/directory               # Root directory to ingest
  additional_configs:
    file_patterns:
      - "**/*.java"                                       # Include all files
      - "!**/test/**"                                     # Exclude files in test directories
  included_node_types:
    - FILE
    - DIR                                                 # Include file and directory nodes
  included_relation_types:
    - MADE_OF                                             # Only include MADE_OF relationships`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>GenericLoader</code> is a general-purpose ingestion tool that maps directory structures and files from any filesystem-based data source into a graph database. It is primarily used to bootstrap structural graphs before language-specific parsing or deeper enrichment.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Tool Does</h2>
                        <ul class="space-y-2">
                            <li>Recursively scans all files and subdirectories under a given root path.</li>
                            <li>Creates:
                                <ul class="list-disc pl-6 mt-1">
                                    <li>Nodes of type <code>DIR</code> for directories.</li>
                                    <li>Nodes of type <code>FILE</code> for files.</li>
                                </ul>
                            </li>
                            <li>Establishes <code>MADE_OF</code> relationships from each directory node to its immediate children (files or directories).</li>
                            <li>Optionally filters files to be ingested using <code>glob</code>-based pattern matching.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use</h2>
                        <p>Use <code>GenericLoader</code> when:</p>
                        <ul class="space-y-2">
                            <li>You want to represent a directory hierarchy as a graph.</li>
                            <li>You need to preload file structure metadata before further semantic analysis.</li>
                            <li>You require a lightweight ingestion pass for non-language-specific preprocessing.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <ul class="space-y-4">
                            <li><strong>Nodes</strong> of type <code>CodeConciseNode</code> with properties such as:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>id</code>: Absolute or relative path</li>
                                    <li><code>type</code>: Either <code>FILE</code> or <code>DIR</code></li>
                                    <li><code>display_name</code>: Name of the file or directory</li>
                                    <li><code>path</code>: Full path on disk</li>
                                </ul>
                            </li>
                            <li><strong>Edges</strong> of type <code>Edge</code>, connecting:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li>Parent <code>DIR</code> &rarr; Child <code>FILE</code> or <code>DIR</code> using <code>MADE_OF</code> relationship</li>
                                </ul>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- package: codeconcise.sdk.tools.ingestion.generic.generic_loader
  name: GenericLoader
  input_path: ./my/data/directory                         # Root directory to ingest
  included_node_types:
    - FILE
    - DIR                                                 # Include file and directory nodes
  included_relation_types:
    - MADE_OF                                             # Only include MADE_OF relationships
  additional_configs:
    file_patterns:
      - "**/*.java"                                       # Include all files
      - "!**/test/**"                                     # Exclude files in test directories</code></pre></div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div>
                                <p>You can mix include (<code>"**/*.ext"</code>) and exclude (<code>"!**/pattern"</code>) glob rules. If a file matches both, it will be excluded.</p>
                            </div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>Required Parameters</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>input_path</code></td>
                                    <td>Path to the root directory for ingestion</td>
                                </tr>
                                <tr>
                                    <td><code>included_node_types</code></td>
                                    <td>Node types to include (e.g., <code>FILE</code>, <code>DIR</code>)</td>
                                </tr>
                                <tr>
                                    <td><code>included_relation_types</code></td>
                                    <td>Relationship types to include (e.g., <code>MADE_OF</code>)</td>
                                </tr>
                                <tr>
                                    <td><code>additional_configs.file_patterns</code></td>
                                    <td>List of glob patterns to filter files (inclusions and exclusions supported)</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ol class="list-decimal pl-5 space-y-4">
                            <li>
                                <strong>File &amp; Directory Discovery</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Traverses the file tree starting from <code>input_path</code>.</li><li>Collects all directories and files.</li></ul>
                            </li>
                            <li>
                                <strong>Glob Filtering</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Applies include and exclude patterns defined under <code>file_patterns</code>.</li><li>Ensures each file path is unique and not processed multiple times.</li></ul>
                            </li>
                            <li>
                                <strong>Node Generation</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Creates a <code>DIR</code> node for each directory.</li><li>Creates a <code>FILE</code> node for each qualifying file.</li></ul>
                            </li>
                            <li>
                                <strong>Edge Generation</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Connects each directory node to its contents using <code>MADE_OF</code> edges.</li></ul>
                            </li>
                            <li>
                                <strong>Graph Population</strong>
                                <ul class="list-disc pl-6 mt-1"><li>Populates the graph using <code>graph_constructor.client().populate_db()</code>.</li></ul>
                            </li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Notes</h2>
                        <ul class="space-y-2">
                            <li>Exclusion patterns take precedence over inclusion patterns.</li>
                            <li>The loader does <strong>not</strong> extract code semantics—it purely represents file structure.</li>
                            <li>Ideal for baseline ingestion before applying language-specific loaders or enrichment stages.</li>
                        </ul>
                    `
                },
                idms: {
                    title: 'Ingestion Tool: IDMSLoader',
                    type: 'ingestion',
                    yamlSnippet: `- package: codeconcise.sdk.tools.ingestion.idms_cobol.idms_loader
  name: IdmsLoader
  input_path: ./source/code                             # Root directory
  additional_configs:
    programs_path: COBOL                                  # Folder with COBOL .cbl files
    copybooks_path: copybooks                             # Folder with copybooks (.cpy)
    smojol_jar_path: ./source/code/lib/smojol-cli.jar     # Path to smojol-cli.jar
    idms_jar_path: ./source/code/lib/dialect-idms.jar     # Path to dialect-idms.jar
    smojol_cli_commands: "WRITE_RAW_AST DRAW_FLOWCHART"   # CLI commands for analysis
    artefacts_path: ./source/code/idms-cobol-project/data   # Output directory for generated artefacts
    additional_node_properties:
      module_name: whatever
  included_node_types:
    - "*"
  included_relation_types:
    - "*"`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>IDMSLoader</code> is a domain-specific ingestion tool tailored for <strong>IDMS COBOL</strong> applications. It parses COBOL programs and copybooks (structured via <code>smojol-cli.jar</code> and <code>dialect-idms.jar</code>) to extract syntax trees and dependencies, transforming them into a <strong>graph database representation</strong> suitable for legacy modernization, analysis, and visualization.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Tool Does</h2>
                        <ul class="space-y-2">
                            <li>Integrates with <code>smojol-cli.jar</code> and <code>dialect-idms.jar</code> to parse COBOL programs.</li>
                            <li>Builds a semantic representation using:
                                <ul class="list-disc pl-6 mt-1">
                                    <li><strong>Grammar-derived nodes</strong> (e.g., divisions, procedures, storage sections)</li>
                                    <li><strong>Dependency edges</strong> (<code>MADE_OF</code>, <code>CALLS</code>)</li>
                                </ul>
                            </li>
                            <li>Supports flowchart generation and AST visualization via SMOJOL.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use</h2>
                        <p>Use <code>IDMSLoader</code> when:</p>
                        <ul class="space-y-2">
                            <li>You're analyzing legacy <strong>IDMS COBOL</strong> systems.</li>
                            <li>You want to generate <strong>graph-based insights</strong> into procedural and structural COBOL logic.</li>
                            <li>You are modernizing or visualizing mainframe systems.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <ul class="space-y-4">
                            <li><strong>Nodes</strong> (<code>CodeConciseNode</code>) with:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>id</code>: Unique identifier per context</li>
                                    <li><code>type</code>: Grammar-based type (e.g., <code>ProcedureDivisionContext</code>)</li>
                                    <li><code>display_name</code>: Name from COBOL entity</li>
                                    <li><code>path</code>: Source path of origin</li>
                                    <li>Additional metadata from AST and configuration</li>
                                </ul>
                            </li>
                            <li><strong>Edges</strong> (<code>Edge</code>) for:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>MADE_OF</code>: Encapsulation (e.g., Program → Procedure Division)</li>
                                    <li><code>CALLS</code>: Procedural invocation between program units</li>
                                </ul>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h3>Node Types Supported</h3>
                        <table>
                            <thead><tr><th>Node Type</th><th>Description</th></tr></thead>
                            <tbody>
                                <tr><td><code>ProcedureSectionContext</code></td><td>COBOL procedure section</td></tr>
                                <tr><td><code>ProcedureDivisionBodyContext</code></td><td>Body content of procedure division</td></tr>
                                <tr><td><code>ProcedureDivisionContext</code></td><td>Main procedure division</td></tr>
                                <tr><td><code>StartRuleContext</code></td><td>Root grammar node</td></tr>
                                <tr><td><code>CompilationUnitContext</code></td><td>Entire COBOL compilation unit</td></tr>
                                <tr><td><code>ProgramUnitContext</code></td><td>Logical COBOL program module</td></tr>
                                <tr><td><code>IdentificationDivisionContext</code></td><td>Metadata section</td></tr>
                                <tr><td><code>ProgramIdParagraphContext</code></td><td>Program identity</td></tr>
                                <tr><td><code>IdentificationDivisionBodyContext</code></td><td>IDMS-specific metadata</td></tr>
                                <tr><td><code>EnvironmentDivisionContext</code></td><td>Runtime configuration setup</td></tr>
                                <tr><td><code>DataDivisionContext</code></td><td>Data declaration block</td></tr>
                                <tr><td><code>WorkingStorageSectionContext</code></td><td>Internal storage declaration</td></tr>
                                <tr><td><code>LinkageSectionContext</code></td><td>External passed-in variables</td></tr>
                                <tr><td><code>IdmsContainerNode</code></td><td>Logical container node</td></tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>IDMS COBOL Project Layout</h2>
                        <div class="code-block" data-lang="plaintext"><pre><code class="language-plaintext">idms-cobol-project/
│
├── lib/
│   ├── smojol-cli.jar
│   └── dialect-idms.jar
│
└── src/
    ├── COBOL/
    │   └── SampleIDMSProgram.cbl
    │
    └── copybooks/
        ├── RecordLayout.cpy
        └── SUBSCHEMA-DESCRIPTION
</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Setup Instructions</h2>
                        <p>Download from <a href="https://github.com/avishek-sen-gupta/cobol-rekt/releases" target="_blank" class="text-sapphire hover:underline font-semibold">GitHub Releases</a>:</p>
                        <ul class="space-y-2">
                            <li><code>smojol-cli.jar</code></li>
                            <li><code>dialect-idms.jar</code></li>
                        </ul>
                        <p class="mt-2">Place them in the <code>lib/</code> directory of your project.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- package: codeconcise.sdk.tools.ingestion.idms_cobol.idms_loader
  name: IdmsLoader
  input_path: ./source/code                             # Root directory
  additional_configs:
    programs_path: COBOL                                  # Folder with COBOL .cbl files
    copybooks_path: copybooks                             # Folder with copybooks (.cpy)
    smojol_jar_path: ./source/code/lib/smojol-cli.jar     # Path to smojol-cli.jar
    idms_jar_path: ./source/code/lib/dialect-idms.jar     # Path to dialect-idms.jar
    smojol_cli_commands: "WRITE_RAW_AST DRAW_FLOWCHART"   # CLI commands for analysis
    artefacts_path: ./source/code/idms-cobol-project/data   # Output directory for generated artefacts
    additional_node_properties:
      module_name: whatever
  included_node_types:
    - "*"
  included_relation_types:
    - "*"</code></pre></div>
                        <p class="mt-2 p-3 bg-yellow-50 border-l-4 border-yellow-400 rounded-r-md text-yellow-800"><strong>Prerequisites:</strong> SMOJOL requires <strong>Java version</strong> > 21</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Required Parameters</h2>
                        <table>
                            <thead><tr><th>Parameter</th><th>Description</th></tr></thead>
                            <tbody>
                                <tr><td><code>input_path</code></td><td>Root folder containing COBOL and copybook sources</td></tr>
                                <tr><td><code>programs_path</code></td><td>Subfolder containing <code>.cbl</code> files</td></tr>
                                <tr><td><code>copybooks_path</code></td><td>Subfolder containing <code>.cpy</code> and subschema files</td></tr>
                                <tr><td><code>smojol_jar_path</code></td><td>Path to <code>smojol-cli.jar</code> (COBOL analysis CLI)</td></tr>
                                <tr><td><code>idms_jar_path</code></td><td>Path to <code>dialect-idms.jar</code> (IDMS dialect plugin)</td></tr>
                                <tr><td><code>smojol_cli_commands</code></td><td>Space-separated commands like <code>WRITE_RAW_AST</code>, <code>DRAW_FLOWCHART</code></td></tr>
                                <tr><td><code>artefacts_path</code></td><td>Where AST and flowcharts will be written</td></tr>
                                <tr><td><code>included_node_types</code></td><td>Types of nodes to ingest (e.g., <code>ProgramUnitContext</code>) or <code>*</code></td></tr>
                                <tr><td><code>included_relation_types</code></td><td>Relationship types to ingest (e.g., <code>CALLS</code>, <code>MADE_OF</code>) or <code>*</code></td></tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ol class="list-decimal pl-5 space-y-4">
                            <li><strong>File Collection</strong><ul class="list-disc pl-6 mt-1"><li>Gathers <code>.cbl</code> programs and <code>.cpy</code> copybooks based on configured paths.</li></ul></li>
                            <li><strong>SMOJOL Invocation</strong><ul class="list-disc pl-6 mt-1"><li>Executes SMOJOL JARs to generate ASTs and flowcharts.</li><li>Uses both <code>smojol-cli.jar</code> and <code>dialect-idms.jar</code>.</li></ul></li>
                            <li><strong>Node & Relationship Creation</strong><ul class="list-disc pl-6 mt-1"><li>Grammar constructs become <code>CodeConciseNode</code> entries.</li><li>Edges link nodes using <code>CALLS</code> and <code>MADE_OF</code>.</li></ul></li>
                            <li><strong>Graph Population</strong><ul class="list-disc pl-6 mt-1"><li>The entire output is stored using <code>graph_constructor.client().populate_db()</code>.</li></ul></li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Troubleshooting</h2>
                        <table>
                            <thead><tr><th>Issue</th><th>Possible Cause or Fix</th></tr></thead>
                            <tbody>
                                <tr><td>File Not Found</td><td>Check all paths in <code>config-idms.yml</code></td></tr>
                                <tr><td>Java Errors</td><td>Ensure Java is installed and version is <strong>> 21</strong></td></tr>
                                <tr><td>No Graph Output</td><td>Check logs and whether relevant node types are included</td></tr>
                                <tr><td>CLI Fails</td><td>Ensure JAR files are valid and accessible</td></tr>
                            </tbody>
                        </table>
                    `
                },
                java: {
                    title: 'Ingestion Tool: JavaLoader',
                    type: 'ingestion',
                    yamlSnippet: `- package: codeconcise.sdk.tools.ingestion.java.java_loader
  name: JavaLoader
  input_path: ./my-java-project                     # Path to Java project root
  additional_configs:
    name: my_project_name                           # Optional project label
  included_node_types:
    - CLASS
    - METHOD
    - PACKAGE
  included_relation_types:
    - DEPENDS_ON
    - MADE_OF`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>JavaLoader</code> is a dedicated ingestion tool that parses <strong>Java codebases</strong> and maps structural elements and their dependencies into a graph database. It helps transform large Java repositories into navigable knowledge graphs for enhanced analysis, understanding, and modernization.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Tool Does</h2>
                        <ul class="space-y-2">
                            <li>Parses all Java files in a given directory.</li>
                            <li>Constructs graph <strong>nodes</strong> representing:
                                <ul class="list-disc pl-6 mt-1"><li>Packages, Classes, Interfaces, Enums, Methods.</li></ul>
                            </li>
                            <li>Establishes graph <strong>relationships</strong> like:
                                <ul class="list-disc pl-6 mt-1"><li><code>MADE_OF</code>, <code>DEPENDS_ON</code>, <code>EXTENDS</code>, <code>IMPLEMENTS</code>.</li></ul>
                            </li>
                            <li>Populates the graph with these nodes and edges for downstream comprehension.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use</h2>
                        <p>Use <code>JavaLoader</code> when:</p>
                        <ul class="space-y-2">
                            <li>You want to convert a Java project into a knowledge graph for analysis or modernization.</li>
                            <li>You need to extract modular structure (e.g., packages, classes, methods) from large codebases.</li>
                            <li>You are identifying class dependencies, inheritance trees, or method encapsulations.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <ul class="space-y-4">
                            <li><strong>Nodes</strong> of type <code>CodeConciseNode</code> with attributes like:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>id</code>: Unique identifier based on type and name.</li>
                                    <li><code>type</code>: <code>PACKAGE</code>, <code>CLASS</code>, <code>INTERFACE</code>, <code>ENUM</code>, <code>METHOD</code>.</li>
                                    <li><code>display_name</code>: Name of the structure.</li>
                                    <li><code>path</code>: File path where it exists.</li>
                                    <li><code>text</code>: Source code content (if retrievable).</li>
                                </ul>
                            </li>
                            <li><strong>Edges</strong> of type <code>Edge</code>, capturing:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>MADE_OF</code>: Encapsulation (e.g., package → class → method).</li>
                                    <li><code>DEPENDS_ON</code>: References to other packages/classes.</li>
                                    <li><code>EXTENDS</code>: Inheritance from another class or interface.</li>
                                    <li><code>IMPLEMENTS</code>: Class implements interface.</li>
                                </ul>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h3>Example Graph</h3>
                        <div class="code-block" data-lang="text"><pre><code class="language-plaintext">[PACKAGE] 
    └──(MADE_OF)──> [CLASS / INTERFACE / ENUM] 
          └──(MADE_OF)──> [METHOD]
    └──(DEPENDS_ON)──> [EXTERNAL PACKAGE]
    └──(EXTENDS / IMPLEMENTS)──> [BASE CLASS / INTERFACE]
</code></pre></div>
                        <img src="https://placehold.co/800x250/edf1f3/003d4f?text=Java+Loader+Graph+Example" alt="Java graph example" class="mt-4 rounded-lg shadow-md w-full">
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- package: codeconcise.sdk.tools.ingestion.java.java_loader
  name: JavaLoader
  input_path: ./my-java-project                            # Path to Java project root
  additional_configs:
    name: my_project_name                                  # Optional project label
  included_node_types:
    - CLASS
    - METHOD
    - PACKAGE
  included_relation_types:
    - DEPENDS_ON
    - MADE_OF</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Required Parameters</h2>
                        <table>
                            <thead><tr><th>Parameter</th><th>Description</th></tr></thead>
                            <tbody>
                                <tr><td><code>input_path</code></td><td>Root path to the Java project directory</td></tr>
                                <tr><td><code>additional_configs.name</code></td><td>Name to tag all extracted nodes with project identifier</td></tr>
                                <tr><td><code>included_node_types</code></td><td>List of node types to include (e.g., <code>CLASS</code>, <code>PACKAGE</code>, etc.)</td></tr>
                                <tr><td><code>included_relation_types</code></td><td>List of edge types to include (e.g., <code>DEPENDS_ON</code>, <code>MADE_OF</code>, etc.)</td></tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ol class="list-decimal pl-5 space-y-4">
                            <li><strong>Directory Scan</strong><ul class="list-disc pl-6 mt-1"><li>Recursively reads all <code>.java</code> files.</li></ul></li>
                            <li><strong>Static Node Extraction</strong><ul class="list-disc pl-6 mt-1"><li>Identifies Packages, Enums, Interfaces, Classes, and Methods.</li><li>Generates corresponding <code>CodeConciseNode</code> entries.</li></ul></li>
                            <li><strong>Relationship Detection</strong><ul class="list-disc pl-6 mt-1"><li>Adds relationships like:
                                <ul class="list-disc pl-6 mt-1">
                                    <li><code>MADE_OF</code> for structural containment.</li>
                                    <li><code>DEPENDS_ON</code> for external references.</li>
                                    <li><code>EXTENDS</code> / <code>IMPLEMENTS</code> for inheritance & interface implementation.</li>
                                </ul>
                            </li></ul></li>
                            <li><strong>Graph Population</strong><ul class="list-disc pl-6 mt-1"><li>Populates nodes and relationships via <code>graph_constructor.client().populate_db()</code>.</li></ul></li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Notes</h2>
                        <ul class="space-y-2">
                            <li>If source files are missing or unreadable, nodes will still be created without the <code>text</code> field.</li>
                            <li>Use <code>excluded_node_types</code> or <code>excluded_relationship_types</code> (if supported) to filter out unwanted elements.</li>
                            <li>This loader is ideal for large Java monorepos or microservice codebases.</li>
                        </ul>
                    `
                },
                plsql: {
                    title: 'Ingestion Tool: PLSQLLoader',
                    type: 'ingestion',
                    yamlSnippet: `- package: codeconcise.sdk.tools.ingestion.plsql.plsql_loader
  name: PLSQLLoader
  input_path: ./source/plsql_project                # Directory containing PLSQL files
  additional_configs:
    artefacts_path: analysis/ingestion/plsql_grammar
  included_node_types:                              # Include all node types
    - "*"
  included_relation_types:                          # Include all relationship types
    - "*"`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>PLSQLLoader</code> is a specialized ingestion tool built to parse <strong>PL/SQL codebases</strong> and transform them into a structured <strong>graph representation</strong>. It reads PL/SQL files, extracts relevant constructs, and maps both components and their relationships into a graph database for enhanced analysis and comprehension.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Tool Does</h2>
                        <ul class="space-y-2">
                            <li>Parses all PL/SQL files in a specified directory.</li>
                            <li>Maps core PL/SQL constructs (e.g., procedures, triggers, tables) into <strong>nodes</strong>.</li>
                            <li>Establishes <strong>relationships</strong> such as <code>CALLS</code>, <code>CREATES</code>, and <code>TRIGGERS</code>.</li>
                            <li>Populates a knowledge graph using the CodeConcise SDK.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use</h2>
                        <p>Use <code>PLSQLLoader</code> when:</p>
                        <ul class="space-y-2">
                            <li>You have a PL/SQL codebase and want to extract its structural insights.</li>
                            <li>You need a navigable dependency graph of procedures, tables, triggers, and packages.</li>
                            <li>You're performing modernization, documentation, or impact analysis of Oracle PL/SQL systems.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <ul class="space-y-4">
                            <li><strong>Nodes</strong> of type <code>CodeConciseNode</code>, representing:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>Procedure_nameContext</code>, <code>Trigger_nameContext</code>, <code>Package_nameContext</code>, <code>Table_nameContext</code>, and others.</li>
                                    <li>Includes fields such as <code>id</code>, <code>type</code>, <code>display_name</code>, <code>text</code>, and <code>path</code>.</li>
                                </ul>
                            </li>
                            <li><strong>Edges</strong> of type <code>Edge</code>, capturing:
                                <ul class="list-disc pl-6 mt-2 space-y-1">
                                    <li><code>CALLS</code>: Procedure/function calls.</li>
                                    <li><code>CREATES</code>: Table or index creation.</li>
                                    <li><code>TRIGGERS</code>: Links between triggers and triggered procedures.</li>
                                </ul>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- package: codeconcise.sdk.tools.ingestion.plsql.plsql_loader
  name: PLSQLLoader
  input_path: ./source/plsql_project                # Directory containing PLSQL files
  additional_configs:
    artefacts_path: analysis/ingestion/plsql_grammar
  included_node_types:                              # Include all node types
    - "*"
  included_relation_types:                          # Include all relationship types
    - "*"</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Required Parameters</h2>
                        <table>
                            <thead><tr><th>Parameter</th><th>Description</th></tr></thead>
                            <tbody>
                                <tr><td><code>input_path</code></td><td>Root path to PL/SQL files</td></tr>
                                <tr><td><code>included_node_types</code></td><td>List of structural node types to ingest (e.g., procedures, tables)</td></tr>
                                <tr><td><code>included_relation_types</code></td><td>List of relationship types to ingest (e.g., <code>CALLS</code>, <code>CREATES</code>)</td></tr>
                                <tr><td><code>additional_configs.artefacts_path</code></td><td>Path to save ASTs, visualizations, or debug outputs</td></tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ol class="list-decimal pl-5 space-y-4">
                            <li><strong>File Parsing</strong><ul class="list-disc pl-6 mt-1"><li>Scans and parses all <code>.sql</code> or PL/SQL files within the specified directory.</li></ul></li>
                            <li><strong>Static Node Generation</strong><ul class="list-disc pl-6 mt-1"><li>Extracts and maps core constructs such as:
                                <ul class="list-disc pl-6 mt-1">
                                    <li><code>Procedure_nameContext</code>, <code>Function_nameContext</code>, <code>Trigger_nameContext</code>, <code>Table_nameContext</code>, etc.</li>
                                </ul>
                            </li></ul></li>
                            <li><strong>Relationship Generation</strong><ul class="list-disc pl-6 mt-1"><li>Detects and generates edges like:
                                <ul class="list-disc pl-6 mt-1">
                                    <li><code>CALLS</code>: When one procedure invokes another.</li>
                                    <li><code>CREATES</code>: When a table or sequence is defined.</li>
                                    <li><code>TRIGGERS</code>: When a trigger is defined to invoke a target.</li>
                                </ul>
                            </li></ul></li>
                            <li><strong>Graph Population</strong><ul class="list-disc pl-6 mt-1"><li>Uses <code>graph_constructor.client().populate_db()</code> to write nodes and edges into the graph.</li></ul></li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Notes</h2>
                        <ul class="space-y-2">
                            <li>Unreadable or missing source files result in empty <code>text</code> fields but do not block ingestion.</li>
                            <li>Supports fine-grained control via <code>included_node_types</code> and <code>excluded_node_types</code>.</li>
                            <li>Compatible with large PL/SQL monoliths as well as modular projects.</li>
                        </ul>
                    `
                },
                tsql: {
                    title: 'Ingestion Tool: TSqlIngestor',
                    type: 'ingestion',
                    yamlSnippet: `- package: codeconcise.sdk.tools.ingestion.tsql.tsql_ingestor
  name: TSqlIngestor
  input_path: ./path/to/the/directory                  # Can be any subdirectory of your repo
  included_node_types:
    - "*"                                               # All supported types
  included_relation_types:
    - "*"                                               # All DEPENDS_ON edges
  additional_configs:
    project_name: "TSQL Graph Project"
    project_source: ./project                           # Root of your TSQL codebase (used for ID generation)`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>TSqlIngestor</code> is a powerful ingestion tool that processes Microsoft T-SQL (<code>.sql</code>) files, parses their structure and semantics, and maps them into a <strong>graph database</strong>. It supports deeply nested codebases, differential ingestion via Merkle trees, and structured output suitable for database lineage, modernization, or impact analysis.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Tool Does</h2>
                        <ul class="space-y-2">
                            <li>Recursively parses <code>.sql</code> files under a given path.</li>
                            <li>Supports focused ingestion of specific folders (<code>Tables/</code>, <code>StoredProcedures/</code>, etc.).</li>
                            <li>Uses ANTLR to extract:
                                <ul class="list-disc pl-6 mt-1">
                                    <li>Tables with columns</li>
                                    <li>Stored procedures and their dependencies</li>
                                    <li>Functions and views with references</li>
                                </ul>
                            </li>
                            <li>Creates graph <code>nodes</code> and <code>DEPENDS_ON</code> <code>edges</code> among tables, functions, procedures, and views.</li>
                            <li>Populates the graph with metadata-rich nodes using a consistent ID strategy.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use</h2>
                        <p>Use <code>TSqlIngestor</code> when:</p>
                        <ul class="space-y-2">
                            <li>You want to analyze the structure of a T-SQL project using a graph.</li>
                            <li>You need a dependency map across tables, functions, views, and procedures.</li>
                            <li>You're modernizing a legacy SQL system and want lineage tracking.</li>
                            <li>You want <strong>differential ingestion</strong> to avoid re-processing unchanged files.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <h3><strong>Nodes</strong> (<code>CodeConciseCodeChunkNode</code>) for:</h3>
                        <table>
                            <thead><tr><th>Node Type</th><th>Extracted From</th><th>Includes</th></tr></thead>
                            <tbody>
                                <tr><td><code>TABLE</code></td><td><code>Create_tableContext</code></td><td>Name, columns, file path, SQL</td></tr>
                                <tr><td><code>STORED_PROCEDURE</code></td><td><code>Create_or_alter_procedureContext</code></td><td>Referenced tables/functions/etc.</td></tr>
                                <tr><td><code>FUNCTION</code></td><td><code>Create_or_alter_functionContext</code></td><td>Referenced entities</td></tr>
                                <tr><td><code>VIEW</code></td><td><code>Create_viewContext</code></td><td>Table references and definition</td></tr>
                            </tbody>
                        </table>
                        <p class="mt-4">Each node includes:</p>
                        <ul class="list-disc pl-6 mt-2 space-y-1">
                            <li><code>id</code>: A normalized identifier of the form <code>database.schema.entity</code> (see below).</li>
                            <li><code>display_name</code>: SQL object name</li>
                            <li><code>code</code>: Raw SQL source</li>
                            <li><code>path</code>: File path of origin</li>
                            <li><code>language</code>: Always <code>"TSQL"</code></li>
                            <li><code>additional_properties</code>: columns (for tables/views), project_name, etc.</li>
                        </ul>
                        <h3 class="mt-6"><strong>Edges</strong> (<code>Edge</code>) of type <code>DEPENDS_ON</code></h3>
                        <p>Represents semantic references across SQL objects:</p>
                        <table>
                             <thead><tr><th>From</th><th>To</th><th>Description</th></tr></thead>
                             <tbody>
                                 <tr><td>Procedure → Table</td><td>Reads/writes table</td></tr>
                                 <tr><td>Function → Function</td><td>Calls another func</td></tr>
                                 <tr><td>View → Table</td><td>SELECTs from table</td></tr>
                                 <tr><td>Procedure → View</td><td>Uses a view</td></tr>
                                 <tr><td>Function → View</td><td>Reads from a view</td></tr>
                                 <tr><td>Procedure → Procedure</td><td>Calls via EXEC</td></tr>
                             </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- package: codeconcise.sdk.tools.ingestion.tsql.tsql_ingestor
  name: TSqlIngestor
  input_path: ./path/to/the/directory                  # Can be any subdirectory of your repo
  included_node_types:
    - "*"                                               # All supported types
  included_relation_types:
    - "*"                                               # All DEPENDS_ON edges
  additional_configs:
    project_name: "TSQL Graph Project"
    project_source: ./project                           # Root of your TSQL codebase (used for ID generation)</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Required Parameters</h2>
                        <table>
                            <thead><tr><th>Parameter</th><th>Description</th></tr></thead>
                            <tbody>
                                <tr><td><code>input_path</code></td><td>Path to folder containing <code>.sql</code> files (can be deeply nested subfolder)</td></tr>
                                <tr><td><code>included_node_types</code></td><td>Types of nodes to extract (<code>TABLE</code>, <code>FUNCTION</code>, etc.) or <code>"*"</code></td></tr>
                                <tr><td><code>included_relation_types</code></td><td>Types of edges to include (currently <code>DEPENDS_ON</code>) or <code>"*"</code></td></tr>
                                <tr><td><code>additional_configs.project_name</code></td><td>Logical project name tag</td></tr>
                                <tr><td><code>additional_configs.project_source</code></td><td>Root path of your project (used to derive consistent IDs for all objects)</td></tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ol class="list-decimal pl-5 space-y-4">
                            <li><strong>File Discovery</strong><ul class="list-disc pl-6 mt-1"><li>Recursively lists <code>.sql</code> files in <code>input_path</code>.</li><li>Uses <strong>Merkle filters</strong> to only process modified files.</li></ul></li>
                            <li><strong>Parsing</strong><ul class="list-disc pl-6 mt-1"><li>Uses ANTLR (<code>TSqlLexer</code>, <code>TSqlParser</code>) to parse:
                                <ul class="list-disc pl-6 mt-1">
                                    <li><code>CREATE TABLE</code></li>
                                    <li><code>CREATE PROCEDURE</code></li>
                                    <li><code>CREATE FUNCTION</code></li>
                                    <li><code>CREATE VIEW</code></li>
                                </ul>
                            </li></ul></li>
                            <li><strong>Entity Extraction</strong><ul class="list-disc pl-6 mt-1"><li>Extracts table columns</li><li>Resolves referenced tables, views, functions, procedures</li><li>Parses source code blocks</li></ul></li>
                            <li><strong>Node + Edge Mapping</strong><ul class="list-disc pl-6 mt-1"><li>Produces graph nodes with metadata and source</li><li>Builds <code>DEPENDS_ON</code> edges based on SQL usage</li></ul></li>
                            <li><strong>Graph Population</strong><ul class="list-disc pl-6 mt-1"><li>Calls <code>populate_db(nodes, edges)</code> on <code>GraphClientBuilder.client()</code></li></ul></li>
                            <li><strong>Change Detection</strong><ul class="list-disc pl-6 mt-1"><li>Uses path-based Merkle tree to detect deleted files and clean up corresponding nodes</li></ul></li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Example Project Structure</h2>
                        <div class="code-block" data-lang="plaintext"><pre><code class="language-plaintext">project/
  └── database1/
      └── hr/
          ├── Tables/
          │   ├── employee.sql
          │   └── department.sql
          ├── StoredProcedures/
          │   └── sp_add_employee.sql
          └── Views/
              └── vw_active_employees.sql
</code></pre></div>
                        <ul class="mt-4 list-disc pl-6 space-y-2">
                            <li>You can run the ingestor with <code>input_path</code> set to:
                                <ul class="list-[circle] pl-6 mt-1">
                                    <li><code>./project/database1/hr/Tables</code> — only ingest tables</li>
                                    <li><code>./project/database1/hr</code> — ingest everything under HR schema</li>
                                </ul>
                            </li>
                            <li><code>project_source</code> should be set to <code>./project</code> to ensure generated IDs look like:
                                <ul class="list-[circle] pl-6 mt-1">
                                    <li><code>database1.hr.employee</code></li>
                                    <li><code>database1.hr.sp_add_employee</code></li>
                                </ul>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Notes</h2>
                        <ul class="list-disc pl-6 mt-2 space-y-2">
                            <li><strong>VIEW support</strong> is fully implemented (including edges to referenced tables).</li>
                            <li>IDs are derived from paths relative to <code>project_source</code> and normalized: <code>database.schema.entity</code> (lowercased, bracket-stripped).</li>
                            <li>Malformed files are skipped with error logs but do <strong>not</strong> halt the pipeline.</li>
                            <li>All parsing is done via ANTLR and supports SQL Server-specific syntax.</li>
                            <li>Uses observer callbacks to record file access and node creation.</li>
                            <li>Table/view columns are recorded as metadata.</li>
                        </ul>
                    `
                },
                static_code_summary: {
                    title: 'Action: StaticCodeSummary',
                    type: 'comprehension',
                    yamlSnippet: `- action:
    package: codeconcise.sdk.tools.comprehension.static_code_summary
    name: StaticCodeSummary
    additional_args:
      splitter_strategy: "min_size_recursive" # Omit for default
    condition:
      type: equalto                             # Can be: equalto, notequalto, always, custom
      property: node_type                       # Required for all except 'always'
      values:                                   # Required for all except 'always'
        - Method`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>StaticCodeSummary</code> action creates meaningful summaries and vector embeddings of code snippets found in a graph database. These summaries are generated using LLMs and stored as enriched nodes of type <code>CODE_SUMMARY</code>, improving both the documentation and retrieval of code insights.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Action Does</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>Extracts raw code content from selected nodes.</li>
                            <li>Uses a language model to generate natural language summaries.</li>
                            <li>Converts the code into vector embeddings for semantic search.</li>
                            <li>Stores:
                                <ul class="list-disc pl-6 mt-1">
                                    <li>Code</li>
                                    <li>Code Summaries</li>
                                    <li>Embeddings</li>
                                    <li>Related metadata into new <code>CODE_SUMMARY</code> nodes.</li>
                                </ul>
                            </li>
                            <li>Creates searchable indexes:
                                <ul class="list-disc pl-6 mt-1">
                                    <li>Vector index for similarity-based search.</li>
                                    <li>Full-text index for keyword-based lookup.</li>
                                </ul>
                            </li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use This Action</h2>
                        <p>Use this action when you want to:</p>
                        <ul class="space-y-2">
                            <li>Generate natural-language documentation of your codebase.</li>
                            <li>Enable vector-based search over code snippets.</li>
                            <li>Enhance code comprehension by associating summaries with code nodes.</li>
                            <li>Power semantic tooling or developer assistants.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <p>Each <code>CODE_SUMMARY</code> node contains:</p>
                        <ul class="space-y-2">
                            <li>Natural language summary of the code</li>
                            <li>Vector embedding for semantic similarity</li>
                            <li>Source content and metadata</li>
                            <li>Tool generator info</li>
                        </ul>
                        <p class="mt-2">These summaries improve the contextual retrieval and comprehension capabilities of your system.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Indexes Created</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Index Type</th>
                                    <th>Index Name</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Vector</td>
                                    <td><code>code-summary-embeddings</code></td>
                                    <td>For semantic similarity search</td>
                                </tr>
                                <tr>
                                    <td>Fulltext</td>
                                    <td><code>llm-code-text</code></td>
                                    <td>For keyword-based search</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- action:
    package: codeconcise.sdk.tools.comprehension.static_code_summary
    name: StaticCodeSummary
    additional_args:
      splitter_strategy: "min_size_recursive"   # Omit for default
  condition:
    type: equalto                  # Can be: equalto, notequalto, always, custom
    property: node_type            # Required for all except 'always'
    values:                        # Required for all except 'always'
      - Method</code></pre></div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Note:</strong> Adjust <code>language</code>, <code>run_mode</code>, and <code>condition</code> as per your context.</p></div>
                        </div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Splitter Strategy:</strong> By default (when splitter_strategy is omitted or set to "default"), the system uses RecursiveCharacterTextSplitter. Set "min_size_recursive" to switch to MinSizeRecursiveCharacterTextSplitter, which preserves separator-aware splits and then merges adjacent undersized chunks until each meets a minimum length (measured via the splitter’s length function—characters by default). This reduces tiny orphan fragments, improves embedding quality, and preserves both chunk order and the configured overlap.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ul class="space-y-2">
                            <li><strong>Split code</strong> using character-based splitter.</li>
                            <li><strong>Generate summaries</strong> using a prompt and LLM.</li>
                            <li><strong>Store intermediate inputs/outputs</strong> as JSONL and Pickle.</li>
                            <li><strong>Embed summaries</strong> using the embeddings model.</li>
                            <li><strong>Create <code>CODE_SUMMARY</code> nodes</strong> and attach vectors.</li>
                            <li><strong>Build indexes</strong> for efficient retrieval.</li>
                        </ul>
                    `
                },
                dynamic_code_summary: {
                    title: 'Action: DynamicCodeSummary',
                    type: 'comprehension',
                    yamlSnippet: `- action:
    package: codeconcise.sdk.tools.comprehension.dynamic_code_summary
    name: DynamicCodeSummary
    additional_args:
      splitter_strategy: "min_size_recursive" # Omit for default
    condition:
      type: equalto                             # Can be: equalto, notequalto, always, custom
      property: type                            # Required for all except 'always'
      values:                                   # Required for all except 'always'
        - CLASS`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>DynamicCodeSummary</code> action enriches selected code nodes by simulating an interactive LLM-based Q&amp;A session to uncover deeper insights into the code. These insights are transformed into detailed summaries and vector embeddings that are stored in the graph database as <code>LLM_SUMMARY</code> nodes.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Action Does</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>Extracts source code content from relevant nodes.</li>
                            <li>Generates insightful <strong>questions</strong> for each code snippet using a language model.</li>
                            <li>Simulates an LLM answering those questions to create a detailed <strong>summary</strong>.</li>
                            <li>Converts the summary into a <strong>vector embedding</strong>.</li>
                            <li>Stores:
                                <ul class="list-disc pl-6 mt-1">
                                    <li>Summary text</li>
                                    <li>Embedding vectors</li>
                                    <li>Source content and metadata</li>
                                    into new <code>LLM_SUMMARY</code> nodes.
                                </ul>
                            </li>
                            <li>Creates indexes to support retrieval:
                                <ul class="list-disc pl-6 mt-1">
                                    <li>Vector index for similarity-based search.</li>
                                    <li>Full-text index for text-based queries.</li>
                                </ul>
                            </li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use This Action</h2>
                        <p>Use this action when you want to:</p>
                        <ul class="space-y-2">
                            <li>Capture deeper comprehension of complex code blocks.</li>
                            <li>Provide question-answer style documentation for developers.</li>
                            <li>Enable vector and full-text search across natural language summaries.</li>
                            <li>Generate rich descriptions suitable for AI developer assistants.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <p>Each <code>LLM_SUMMARY</code> node includes:</p>
                        <ul class="space-y-2">
                            <li>A detailed natural language summary derived from LLM Q&amp;A.</li>
                            <li>A semantic vector embedding of the summary.</li>
                            <li>Source content metadata.</li>
                            <li>Generator tool info.</li>
                        </ul>
                        <p class="mt-2">These nodes significantly improve search, discovery, and analysis of code functionalities.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Indexes Created</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Index Type</th>
                                    <th>Index Name</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Vector</td>
                                    <td><code>llm-summary-embeddings</code></td>
                                    <td>For semantic similarity search</td>
                                </tr>
                                <tr>
                                    <td>Fulltext</td>
                                    <td><code>llm-summary-text</code></td>
                                    <td>For keyword-based search</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- action:
    package: codeconcise.sdk.tools.comprehension.dynamic_code_summary
    name: DynamicCodeSummary
    additional_args:
      splitter_strategy: "min_size_recursive"   # Omit for default
  condition:
    type: equalto                 # Can be: equalto, notequalto, always, custom
    property: type                # Required for all except 'always'
    values:                       # Required for all except 'always'
      - CLASS</code></pre></div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Note:</strong> Modify the <code>language</code>, <code>run_mode</code>, and <code>condition</code> based on your codebase and execution logic.</p></div>
                        </div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Splitter Strategy:</strong> By default (when splitter_strategy is omitted or set to "default"), the system uses RecursiveCharacterTextSplitter. Set "min_size_recursive" to switch to MinSizeRecursiveCharacterTextSplitter, which preserves separator-aware splits and then merges adjacent undersized chunks until each meets a minimum length (measured via the splitter’s length function—characters by default). This reduces tiny orphan fragments, improves embedding quality, and preserves both chunk order and the configured overlap.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ul class="space-y-2">
                            <li><strong>Split input documents</strong> for LLM handling using a character-based strategy.</li>
                            <li><strong>Generate questions</strong> using <code>DYNAMIC_CODE_PROMPT</code>.</li>
                            <li><strong>Query the LLM</strong> to answer those questions contextually.</li>
                            <li><strong>Convert answers</strong> into embeddings.</li>
                            <li><strong>Create <code>LLM_SUMMARY</code> nodes</strong> with the responses.</li>
                            <li><strong>Build indexes</strong> for efficient search.</li>
                        </ul>
                        <p class="mt-4">This action helps transform static code into rich, explainable, and queryable knowledge for both humans and AI systems.</p>
                    `
                },
                seam_extraction: {
                    title: 'Action: Seam Extraction',
                    type: 'comprehension',
                    yamlSnippet: `- action:
    package: codeconcise.sdk.tools.comprehension.seam_extraction
    name: SeamExtraction
    additional_args:
      execution_mode: full
    condition:
      type: notequalto                          # Can be: equalto, notequalto, always, custom
      property: code                            # Required for all except 'always'
      values: ''                                # Required for all except 'always'`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <strong>Seam Extraction</strong> action identifies and extracts <strong>seams</strong> from code chunks—points where the system interacts with external boundaries. This is critical for understanding architectural dependencies, integration points, and external service interactions within a codebase.</p>
                        <p class="mt-2"><code>SeamExtraction</code> analyzes code to identify three major seam types:</p>
                        <ul class="space-y-2">
                            <li><strong>API_EXPOSED</strong>: HTTP endpoints exposed to external consumers</li>
                            <li><strong>API_CALL</strong>: Outbound HTTP/API calls to external services</li>
                            <li><strong>DB_ACCESS</strong>: Direct database interactions</li>
                        </ul>
                        <p class="mt-2">Identified seams are stored as <code>SEAM</code> nodes in the knowledge graph with rich metadata, enabling comprehensive architectural analysis and dependency mapping.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>How It Works</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li><strong>Code Analysis</strong>: Scans each code node for seam patterns</li>
                            <li><strong>Language-Agnostic Detection</strong>: Uses LLM-based parsing to detect across languages</li>
                            <li><strong>Validation</strong>: Applies language-specific validation rules</li>
                            <li><strong>Graph Storage</strong>: Creates <code>SEAM</code> nodes with metadata in the knowledge graph</li>
                            <li><strong>Indexing</strong>: Adds fulltext indexes for searchable seam properties</li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Seam Types</h2>
                        <h3>API_EXPOSED</h3>
                        <p><strong>Definition:</strong> Public-facing HTTP routes</p>
                        <p><strong>Valid Examples:</strong></p>
                        <ul class="space-y-2">
                            <li>Java: <code>@RestController</code>, <code>@GetMapping("/api/users")</code></li>
                            <li>Django: <code>path('users/', UserViewSet.as_view())</code></li>
                            <li>Flask: <code>@app.route('/api/users')</code></li>
                            <li>.NET: <code>[HttpGet("/api/users")]</code></li>
                            <li>Node.js: <code>app.get('/api/users', ...)</code></li>
                        </ul>
                        <p><strong>Requirements:</strong></p>
                        <ul class="space-y-2">
                            <li>Must have explicit HTTP route annotation or decorator</li>
                            <li>Must exist in a controller/handler or routing file</li>
                        </ul>
                        <h3 class="mt-4">API_CALL</h3>
                        <p><strong>Definition:</strong> Outbound HTTP/API calls to external systems</p>
                        <p><strong>Valid Examples:</strong></p>
                        <ul class="space-y-2">
                            <li>Java: <code>restTemplate.getForObject(...)</code></li>
                            <li>C#: <code>httpClient.GetAsync(...)</code></li>
                            <li>Python: <code>requests.get(...)</code></li>
                            <li>Node.js: <code>fetch(...)</code></li>
                        </ul>
                        <p><strong>Requirements:</strong></p>
                        <ul class="space-y-2">
                            <li>Explicit HTTP client usage</li>
                            <li>Visible URL or external endpoint</li>
                            <li>Must not be internal service calls</li>
                        </ul>
                        <h3 class="mt-4">DB_ACCESS</h3>
                        <p><strong>Definition:</strong> Direct database interactions</p>
                        <p><strong>Valid Examples:</strong></p>
                        <ul class="space-y-2">
                            <li>Java: <code>session.save(...)</code></li>
                            <li>Django: <code>User.objects.filter(...)</code></li>
                            <li>SQLAlchemy: <code>session.query(User).filter(...)</code></li>
                            <li>.NET: <code>ExecuteSqlRaw(...)</code></li>
                        </ul>
                        <p><strong>Requirements:</strong></p>
                        <ul class="space-y-2">
                            <li>Must include ORM, SQL, or JDBC-level code</li>
                            <li>Must be in implementation class (not interface)</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Configuration</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- action:
    package: codeconcise.sdk.tools.comprehension.seam_extraction
    name: SeamExtraction
    additional_args:
      execution_mode: full
  condition:
    type: notequalto                  # Can be: equalto, notequalto, always, custom
    property: code                    # Required for all except 'always'
    values: ''                        # Required for all except 'always'</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Input Parameters</h2>
                        <ul class="space-y-2">
                            <li><code>nodes</code>: List of <code>BaseCodeConciseNode</code> objects with code</li>
                            <li><code>llm_model</code>: LLM configuration (OpenAI, Azure, etc.)</li>
                            <li><code>embeddings_model</code>: Model for semantic embeddings</li>
                            <li><code>language</code>: Programming language of the source</li>
                            <li><code>graph_constructor</code>: Interface for knowledge graph storage</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Output</h2>
                        <p>Returns enriched <code>Seam</code> objects with:</p>
                        <ul class="space-y-2">
                            <li><code>id</code>: Unique ID</li>
                            <li><code>type</code>: Seam type (API_EXPOSED, etc.)</li>
                            <li><code>display_name</code>: Human-friendly label</li>
                            <li><code>trigger</code>: Explanation of what triggered detection</li>
                            <li><code>reference</code>: Code snippet where seam was found</li>
                            <li><code>related_to_id</code>: Linked code node IDs</li>
                            <li><code>confidence</code>: Detection certainty (0.85 to 0.95)</li>
                        </ul>
                        <p class="mt-4"><strong>Example:</strong></p>
                        <div class="code-block" data-lang="json"><pre><code class="language-json">{
  "identified_seams": [
    {
      "seam_type": "API_EXPOSED",
      "trigger": "HTTP GET request",
      "reference": "@GetMapping(\\"/api/users/{id}\\") public ResponseEntity<User> getUser(...)",
      "confidence": 0.95
    },
    {
      "seam_type": "DB_ACCESS",
      "trigger": "Database query execution",
      "reference": "userRepository.findById(id)",
      "confidence": 0.90
    },
    {
      "seam_type": "API_CALL",
      "trigger": "External service call",
      "reference": "restTemplate.getForObject(\\"http://notification-service/send\\", ...)"
    }
  ]
}</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Advanced Features</h2>
                        <h3>Fulltext Indexing</h3>
                        <ul class="space-y-2">
                            <li>Indexed fields: <code>display_name</code>, <code>trigger</code>, <code>reference</code></li>
                            <li>Enables fast search on seam metadata</li>
                        </ul>
                        <h3 class="mt-4">Language-Specific Validation</h3>
                        <ul class="space-y-2">
                            <li>Django: Traces all <code>path()</code> definitions</li>
                            <li>Node.js: Validates only routing files, not controllers</li>
                            <li>Java: Detects Spring annotations</li>
                            <li>C#: Validates ASP.NET Core attribute-based routing</li>
                        </ul>
                        <h3 class="mt-4">Confidence Scoring</h3>
                        <ul class="space-y-2">
                            <li><code>0.95</code>: Explicit, high-certainty seam</li>
                            <li><code>0.90</code>: Clear pattern match</li>
                            <li><code>0.85</code>: Probable seam, manual review recommended</li>
                            <li>Lower scores indicate partial matches requiring manual review</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Best Practices</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>Ensure complete routing file coverage</li>
                            <li>Skip abstract/interface layers; focus on implementations</li>
                            <li>Check for visible HTTP/DB/Service code</li>
                            <li>Use language-specific rules to avoid false positives</li>
                            <li>Validate seam references for actual external boundaries</li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Use Cases</h2>
                        <ul class="space-y-2">
                            <li>System boundary and dependency analysis</li>
                            <li>Auto-generating API documentation</li>
                            <li>Mapping third-party integrations</li>
                            <li>Planning modernization/refactoring efforts</li>
                            <li>Security auditing of external interaction points</li>
                            <li>Tracking external service dependencies</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Integration with Other Actions</h2>
                        <p>Combine with:</p>
                        <ul class="space-y-2">
                            <li><strong>Bottom-up Traversal</strong>: Structured code scanning</li>
                            <li><strong>Capability Extraction</strong>: Link seams to business functions</li>
                            <li><strong>Static Code Summary</strong>: Understand surrounding logic</li>
                            <li><strong>Dynamic Code Summary</strong>: Runtime analysis of seam behavior</li>
                        </ul>
                    `
                },
                aws_q_transform: {
                    title: 'Action: AWS Q Developer Transform',
                    type: 'comprehension',
                    yamlSnippet: `- action:
    package: sdk.tools.comprehension.aws_q_developer_transform
    name: AWSQDeveloperTransform
    additional_args:
      pdf_directory: /path/to/your/pdfs
    condition:
      type: notequalto                          # Can be: equalto, notequalto, always, custom
      property: code                            # Required for all except 'always'
      values: ''                                # Required for all except 'always'`,
                    html: `
                        <h2>Action: AWS Q Developer Transform</h2>
                        <p>The <strong>AWS Q Developer Transform</strong> action enhances comprehension by linking code nodes with relevant documentation. It searches a configured directory for PDF files generated by Amazon Q Developer Transform and attaches their content as enriched nodes.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Overview</h2>
                        <p>This action connects PDFs to matching nodes based on name similarity. It loads PDF content using Langchain's <code>PyPDFLoader</code>, generates embeddings, and produces page-level <code>EnrichedNode</code> entries linked to the original code nodes.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Configuration</h2>
                        <p>In the <code>additional_args</code> dictionary, you must provide:</p>
                        <ul>
                            <li><code>pdf_directory</code>: <strong>(Required)</strong> Directory path where the PDF documents are stored</li>
                        </ul>
                        <h3>Example Configuration:</h3>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- action:
    package: sdk.tools.comprehension.aws_q_developer_transform
    name: AWSQDeveloperTransform
    additional_args:
      pdf_directory: /path/to/your/pdfs
  condition:
    type: notequalto                  # Can be: equalto, notequalto, always, custom
    property: code                    # Required for all except 'always'
    values: ''                        # Required for all except 'always'</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Node Matching Logic</h2>
                        <p>The action matches PDFs to nodes using the following logic:</p>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>The <strong>node name</strong> is a <strong>substring of the PDF filename</strong> (case insensitive), or</li>
                            <li>The <strong>PDF filename</strong> is a <strong>substring of the node name</strong> (case insensitive)</li>
                        </ol>
                        <p>This fuzzy matching ensures maximum flexibility in linking documentation to code.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Output</h2>
                        <p>For every matching PDF file:</p>
                        <ul class="space-y-2">
                            <li>Each <strong>page</strong> becomes an <code>EnrichedNode</code></li>
                            <li>Embeddings are generated for semantic search</li>
                            <li>Nodes are linked to the original node for graph traversal</li>
                        </ul>
                        <h3 class="mt-4">EnrichedNode Fields:</h3>
                        <ul class="space-y-2">
                            <li><code>id</code>: Unique UUID for the enriched node</li>
                            <li><code>summary</code>: Raw page content from the PDF</li>
                            <li><code>summaryVector</code>: Embedding vector of the page</li>
                            <li><code>type</code>: Always <code>CODE_SUMMARY</code></li>
                            <li><code>related_to_id</code>: ID of the original matched node</li>
                            <li><code>display_name</code>: Formatted as <code>"&lt;pdf-filename&gt; - &lt;node-name&gt;"</code></li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Use Cases</h2>
                        <ul class="space-y-2">
                            <li>Enriching knowledge graphs with documentation</li>
                            <li>Attaching architectural insights from Q Developer reports</li>
                            <li>Supporting AI-based reasoning across code and docs</li>
                            <li>Creating searchable document summaries linked to code</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Best Practices</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>Ensure PDF filenames contain relevant node names</li>
                            <li>Use descriptive node <code>display_name</code> fields</li>
                            <li>Organize your PDF directory with unique, non-overlapping names</li>
                            <li>Validate the output graph for expected links</li>
                            <li>Apply embeddings consistently to enable search and summarization</li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>Integration with Other Actions</h2>
                        <ul class="space-y-2">
                            <li><strong>Bottom-up Traversal</strong>: To process entire code hierarchies</li>
                            <li><strong>Static Code Summary</strong>: Complement code with contextual documentation</li>
                            <li><strong>Capability Association</strong>: Link documentation to business capabilities</li>
                            <li><strong>Dynamic Summarization</strong>: Enrich runtime insights with external docs</li>
                        </ul>
                    `
                },
                capability_mappings: {
                    title: 'Action: CapabilityMappings',
                    type: 'comprehension',
                    yamlSnippet: `- action:
    package: codeconcise.sdk.tools.comprehension.capability_mappings
    name: CapabilityMappings
    additional_args:
      use_llm_augmentation: false
      product_name: CardDemo -- Mainframe CardDemo Application
      product_description: |
        This is a card demo application that showcases the capabilities of the system.
        It includes features such as account management and inventory tracking.
      product_capabilities:
        - name: Account Management
          description: Manage customer accounts and authentication flows
          children:
            - name: Account Creation
              children:
                - name: ID Verification
                - name: Profile Setup
            - name: Account Update
              children:
                - name: Contact Information
                - name: Password Reset
            - name: Account Deletion
        - name: Card Management
          description: Manage credit card operations
          children:
            - name: Card Issuance
            - name: Card Activation
            - name: Card Update
            - name: Card Deactivation
        - name: Transaction Management
          description: Process and handle credit card transactions
          children:
            - name: Transaction Posting
            - name: Transaction Listing
            - name: Transaction Search
            - name: Transaction Reconciliation
        - name: Billing & Payments
          description: Handle billing cycles and payments
          children:
            - name: Statement Generation
            - name: Bill Payment Processing
            - name: Interest and Fees Calculation
        - name: User Administration
          description: Admin-level user functions
          children:
            - name: User Creation
            - name: User Update
            - name: User Deletion
            - name: Role Assignment
        - name: Batch Processing
          description: Backend jobs and scheduled processes
          children:
            - name: Daily Batch Runs
            - name: Interest Calculation
            - name: Report Generation
        - name: Reporting & Analytics
          description: Generate insights and reports for users and admins
          children:
            - name: Account Reports
            - name: Transaction Statements
            - name: Admin Audit Reports
    conditions:
      - type: always`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>CapabilityMappings</code> action intelligently maps code chunks to business capabilities, creating a structured, explainable hierarchy that aligns code with business functionality. This bridges the gap between technical implementation and business intent, making your codebase more navigable, explainable, and suitable for enterprise architecture alignment.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Action Does</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li><strong>Analyzes code chunks</strong> to determine relevant functionality.</li>
                            <li><strong>Associates code with business capabilities</strong> based on a predefined or dynamically generated hierarchy.</li>
                            <li><strong>Supports two operational modes</strong>:
                                <ul class="list-disc pl-6 mt-1">
                                    <li><strong>Case A</strong>: Uses a complete, user-defined capability hierarchy.</li>
                                    <li><strong>Case B</strong>: Dynamically augments an incomplete hierarchy using LLMs.</li>
                                </ul>
                            </li>
                            <li><strong>Generates summaries and embeddings</strong> for each capability node.</li>
                            <li><strong>Stores capability structures</strong> and relationships in the knowledge graph for rich semantic analysis.</li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use This Action</h2>
                        <p>Use the <code>CapabilityMappings</code> action when you want to:</p>
                        <ul class="space-y-2">
                            <li>Link code chunks to business functions for improved comprehension and traceability.</li>
                            <li>Enable capability-based navigation and querying in your developer tools.</li>
                            <li>Align software systems with enterprise capability models.</li>
                            <li>Discover hidden or implicit capability structures via LLM-assisted suggestions.</li>
                            <li>Support capability-based planning, auditing, or modernization efforts.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <p>Each capability node includes:</p>
                        <ul class="space-y-2">
                            <li>A <strong>business capability name</strong> and optional description.</li>
                            <li><strong>Attached code chunks</strong> that implement or relate to this capability.</li>
                            <li><strong>LLM-generated summaries</strong> and <strong>semantic vector embeddings</strong> (for search and similarity).</li>
                            <li><strong>Relationships</strong> that preserve hierarchy (<code>PARENT_OF</code>, <code>CHILD_OF</code>) and code mappings (<code>IMPLEMENTS</code>).</li>
                        </ul>
                        <p class="mt-2">The result is a <strong>hierarchical business-technical knowledge graph</strong> that can be queried, visualized, and augmented.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Modes of Operation</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Mode</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Case A</strong></td>
                                    <td>Uses a fully defined user-provided capability hierarchy. No LLM involvement. Preserves structure and terminology exactly.</td>
                                </tr>
                                <tr>
                                    <td><strong>Case B</strong></td>
                                    <td>Uses an initial hierarchy and augments it with LLM to suggest missing or deeper capabilities. Ideal for discovery and organization of complex codebases.</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p>LLM-generated nodes in Case B can be configured to be visible or hidden based on your needs.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>Indexes Created</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Index Type</th>
                                    <th>Index Name</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Vector</td>
                                    <td><code>capability-embeddings</code></td>
                                    <td>For similarity-based capability queries</td>
                                </tr>
                                <tr>
                                    <td>Fulltext</td>
                                    <td><code>capability-summary-text</code></td>
                                    <td>For keyword-based capability lookup</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- action:
    package: codeconcise.sdk.tools.comprehension.capability_mappings
    name: CapabilityMappings
    additional_args:
      use_llm_augmentation: false
      product_name: CardDemo -- Mainframe CardDemo Application
      product_description: |
        This is a card demo application that showcases the capabilities of the system.
        It includes features such as account management and inventory tracking.
      product_capabilities:
        - name: Account Management
          description: Manage customer accounts and authentication flows
          children:
            - name: Account Creation
              children:
                - name: ID Verification
                - name: Profile Setup
            - name: Account Update
              children:
                - name: Contact Information
                - name: Password Reset
            - name: Account Deletion
        - name: Card Management
          description: Manage credit card operations
          children:
            - name: Card Issuance
            - name: Card Activation
            - name: Card Update
            - name: Card Deactivation
        - name: Transaction Management
          description: Process and handle credit card transactions
          children:
            - name: Transaction Posting
            - name: Transaction Listing
            - name: Transaction Search
            - name: Transaction Reconciliation
        - name: Billing & Payments
          description: Handle billing cycles and payments
          children:
            - name: Statement Generation
            - name: Bill Payment Processing
            - name: Interest and Fees Calculation
        - name: User Administration
          description: Admin-level user functions
          children:
            - name: User Creation
            - name: User Update
            - name: User Deletion
            - name: Role Assignment
        - name: Batch Processing
          description: Backend jobs and scheduled processes
          children:
            - name: Daily Batch Runs
            - name: Interest Calculation
            - name: Report Generation
        - name: Reporting & Analytics
          description: Generate insights and reports for users and admins
          children:
            - name: Account Reports
            - name: Transaction Statements
            - name: Admin Audit Reports
  conditions:
    - type: always</code></pre></div>
                        <hr class="my-6 border-gray-300">
                        <h2>Best Practices</h2>
                        <ul class="space-y-2">
                            <li><strong>Provide detailed descriptions</strong> for capabilities to improve LLM mapping accuracy.</li>
                            <li><strong>Use consistent naming</strong> aligned with enterprise terminology.</li>
                            <li><strong>Balance depth and breadth</strong> of hierarchy — 3–4 levels work well.</li>
                            <li><strong>Start small and refine</strong> — use Case A first, then explore Case B.</li>
                            <li><strong>Review generated nodes</strong> from Case B for quality and consistency.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Troubleshooting</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Issue</th>
                                    <th>Possible Solution</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Too many code chunks mapped to one node</td>
                                    <td>Use Case B to generate more granular sub-capabilities</td>
                                </tr>
                                <tr>
                                    <td>Generated names don’t match your terminology</td>
                                    <td>Improve descriptions or use Case A</td>
                                </tr>
                                <tr>
                                    <td>Capabilities missing</td>
                                    <td>Add manually or enable LLM augmentation</td>
                                </tr>
                                <tr>
                                    <td>Misaligned structure</td>
                                    <td>Tune initial hierarchy and rerun</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ul class="space-y-2">
                            <li><strong>Fetches code chunk nodes</strong> from the graph.</li>
                            <li><strong>Loads capability configuration</strong> from YAML.</li>
                            <li><strong>(Case B)</strong> LLM augments capability tree with missing layers.</li>
                            <li><strong>Matches code chunks</strong> to capability nodes based on semantic alignment.</li>
                            <li><strong>Generates summaries</strong> for each capability node.</li>
                            <li><strong>Creates embeddings</strong> for downstream semantic search.</li>
                            <li><strong>Builds a hierarchy</strong> using <code>PARENT_OF</code>, <code>IMPLEMENTS</code>, and <code>SUMMARY_OF</code> relationships.</li>
                            <li><strong>Stores the full capability structure</strong> in the Neo4j knowledge graph.</li>
                        </ul>
                    `
                },
                capability_extraction: {
                    title: 'Action: CapabilityExtraction',
                    type: 'comprehension',
                    yamlSnippet: `- action:
    package: codeconcise.sdk.tools.comprehension.capability_extraction
    name: CapabilityExtraction
    additional_args:
      top_n: 6
    conditions:
      - type: equalto      # Can be: equalto, notequalto, always, custom
        property: type      # Required for all except 'always'
        values:             # Required for all except 'always'
          - CodeFile`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>CapabilityExtraction</code> action analyzes code files and automatically identifies the business capabilities implemented within them. These capabilities are grouped and categorized using <strong>TOGAF-aligned classifications</strong>, enabling architectural alignment and business traceability across your codebase.</p>
                        <div class="note note-info my-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p>After extracting flat capabilities, this action can automatically trigger <strong>CapabilityAssociation</strong> to organize them into a multi-level hierarchy — controlled via additional_args.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Action Does</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>Scans code file summaries to <strong>extract business capabilities</strong> using a language model.</li>
                            <li>Organizes identified capabilities into <strong>TOGAF-compliant groups</strong> such as Application, Process, Integration, etc.</li>
                            <li>Associates each group with the relevant file node as an <strong>enriched node</strong>, including:
                               <ul class="list-disc pl-6 mt-1">
                                  <li>Capability name(s)</li>
                                  <li>Reasoning behind each classification</li>
                                  <li>Confidence score for each group</li>
                               </ul>
                            </li>
                            <li>Runs <strong>CapabilityAssociation</strong> to organize extracted capabilities into a multi-level hierarchical structure based on semantic similarity and business granularity.</li>
                        </ol>
                        <p class="mt-2">This automated grouping improves enterprise traceability and allows architects to understand which parts of the codebase serve specific business functions.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use This Action</h2>
                        <p>Use this action when you want to:</p>
                        <ul class="space-y-2">
                            <li>Automate the tagging of code with meaningful <strong>business capabilities</strong>.</li>
                            <li>Enable <strong>architecture traceability</strong> across code and business functions.</li>
                            <li>Drive <strong>governance</strong>, <strong>documentation</strong>, or <strong>compliance</strong> with capability mapping.</li>
                            <li>Build a <strong>capability hierarchy</strong> by chaining with <code>CapabilityAssociation</code>.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <p>Each code node may be linked to multiple enriched <strong>capability groups</strong>, containing:</p>
                        <ul class="space-y-2">
                            <li>A TOGAF capability <strong>category</strong> (e.g., Application, Data & Information)</li>
                            <li>A <strong>confidence score</strong> for classification</li>
                            <li>A <strong>reason</strong> or <strong>explanation</strong></li>
                            <li>A list of <strong>nested capability names</strong></li>
                        </ul>
                        <p class="mt-2">These enriched nodes are attached back to the originating code nodes.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>Capability Categories (TOGAF-Aligned)</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Category</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>Strategic Capability</td><td>High-level business direction, strategic planning</td></tr>
                                <tr><td>Governance Capability</td><td>Policy enforcement, decision-making control</td></tr>
                                <tr><td>Security & Compliance</td><td>Data protection, legal, and regulatory requirements</td></tr>
                                <tr><td>Operational Capability</td><td>Daily execution and operations</td></tr>
                                <tr><td>Process Capability</td><td>Defined workflows and procedures</td></tr>
                                <tr><td>Data & Information</td><td>Reporting, storage, and information handling</td></tr>
                                <tr><td>Application Capability</td><td>Software logic, business functions</td></tr>
                                <tr><td>Integration Capability</td><td>System interoperability and data exchange</td></tr>
                                <tr><td>Technical Capability</td><td>Infrastructure, deployment, and runtime support</td></tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Example Output</h2>
                        <div class="code-block" data-lang="text"><pre><code class="language-text">Group 1:
* Capability Type: Application
* Confidence: 0.9
* Reason: Handles patient search in a healthcare system.

Group 2:
* Capability Type: Data & Information
* Confidence: 0.8
* Reason: Handles retrieval and formatting of patient data.

Group 3:
* Capability Type: Integration
* Confidence: 0.7
* Reason: Integrates with OpenMRS and RESTful services.

Group 4:
* Capability Type: Process
* Confidence: 0.6
* Reason: Defines patient search workflows and SOPs.</code></pre></div>
                        <p class="mt-2">Each of these groups is linked to the corresponding file node in the graph database.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- action:
    package: codeconcise.sdk.tools.comprehension.capability_extraction
    name: CapabilityExtraction
    additional_args:
      top_n: 6
  conditions:
    - type: equalto                   # Can be: equalto, notequalto, always, custom
      property: type                  # Required for all except 'always'
      values:                         # Required for all except 'always'
        - CodeFile</code></pre></div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Note:</strong> Only code nodes of the specified types (e.g., <code>COB</code>, <code>JCL</code>) are considered for capability extraction.</p></div>
                        </div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Note:</strong> Modify the <code>language</code>, <code>run_mode</code>, and <code>condition</code> based on your codebase and execution logic.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>Explanation of Parameters</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Description</th>
                                    <th>Default</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>top_n</code></td>
                                    <td>Controls how many capability groups to extract per code file.</td>
                                    <td>10</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Related Actions</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Action</th>
                                    <th>Package</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>CapabilityAssociation</strong></td>
                                    <td><code>codeconcise.sdk.tools.comprehension.capability_association</code></td>
                                    <td>Clusters and connects capabilities across levels (e.g., L1 → L2) to build a hierarchical model.</td>
                                </tr>
                            </tbody>
                        </table>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ul class="space-y-2">
                            <li>Extracts summaries from code file nodes.</li>
                            <li>Feeds these summaries into a capability generator (<code>Generator</code>) backed by LLMs.</li>
                            <li>Classifies and groups capabilities under TOGAF categories.</li>
                            <li>Links generated capability groups as enriched nodes to the originating file nodes.</li>
                            <li>Populates the graph for downstream querying and visualization.</li>
                        </ul>
                    `
                },
                capability_association: {
                    title: 'Action: CapabilityAssociation',
                    type: 'comprehension',
                    yamlSnippet: null,
                    html: `<h2>Overview</h2>
                        <p>The <code>CapabilityAssociation</code> action clusters and organizes previously extracted business capabilities into a <strong>multi-level hierarchy</strong> based on similarity. It then establishes <strong>hierarchical edges</strong> between different capability levels, creating a navigable capability map that aligns with enterprise architecture models.</p>
                        <div class="note note-info my-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Note:</strong> This action is automatically triggered by <strong>CapabilityExtraction</strong>. You do <strong>not</strong> need to configure it separately.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Action Does</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li><strong>Clusters similar capabilities</strong> based on their vector embeddings.</li>
                            <li><strong>Groups related capabilities</strong> into levels (L1–L6) to reflect business hierarchy.</li>
                            <li><strong>Generates enriched capability nodes</strong> for each identified cluster.</li>
                            <li><strong>Creates edges</strong> to define parent-child relationships between different levels (e.g., L1 → L2).</li>
                            <li><strong>Labels each cluster</strong> with the most appropriate capability name using LLM-generated reasoning.</li>
                        </ol>
                        <p class="mt-2">This hierarchical structure enhances traceability, reporting, and alignment with strategic enterprise goals.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use This Action</h2>
                        <p>Use this action when you want to:</p>
                        <ul class="space-y-2">
                            <li><strong>Organize a flat list of capabilities</strong> into a multi-level hierarchy.</li>
                            <li>Link low-level features to <strong>high-level business goals</strong>.</li>
                            <li>Enable <strong>capability tree visualizations</strong> in architecture tools.</li>
                            <li>Improve decision-making through <strong>structured capability reporting</strong>.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <ul class="space-y-2">
                            <li>Enriched nodes for each capability <strong>cluster</strong>.</li>
                            <li>Capability labels (e.g., <em>User Management</em>, <em>Transaction Processing</em>).</li>
                            <li>Confidence scores and rationale for each label.</li>
                            <li><strong>Hierarchical edges</strong> such as:
                                <div class="code-block mt-2" data-lang="text"><pre><code class="language-text">(L1: "User Management") → (L2: "Create User")
(L2: "Create User") → (L3: "Validate Input")</code></pre></div>
                            </li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>How to Customize This Action</h2>
                        <p>Although <code>CapabilityAssociation</code> runs automatically, you can control its behavior by passing options to <code>CapabilityExtraction.additional_args</code>:</p>
                        <table>
                            <thead>
                                <tr>
                                    <th>Parameter</th>
                                    <th>Description</th>
                                    <th>Default</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>top_n</code></td>
                                    <td>Total number of capabilities to generate and organize</td>
                                    <td><code>10</code></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p>See the <strong>CapabilityExtraction</strong> YAML example for how to use these arguments.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ul class="space-y-2">
                            <li><strong>Embeddings & Dimensionality Reduction</strong>: Reduces high-dimensional vectors to 2D for clustering.</li>
                            <li><strong>Clustering</strong>: Groups capability nodes into meaningful clusters using PCA + unsupervised clustering.</li>
                            <li><strong>LLM Labeling</strong>: Each cluster is labeled using LLMs based on code summaries and system context.</li>
                            <li><strong>Level Detection</strong>: Each capability is classified as L1, L2, ..., L6.</li>
                            <li><strong>Edge Generation</strong>: Directed edges are created to form a hierarchical capability tree.</li>
                            <li><strong>Artifacts Logged</strong>: Cluster data and annotated plots saved to <code>analytics_reports/</code>.</li>
                        </ul>
                        `
                },
                business_capability_mapping: {
                    title: 'Action: BusinessCapabilityMapping',
                    type: 'comprehension',
                    yamlSnippet: `- action:
    package: codeconcise.sdk.tools.comprehension.business_capability_mapping
    name: BusinessCapabilityMapping
    additional_args:
      capabilities:
        - Account Management
        - Inventory Tracking
      capabilities_descriptions:
        - Account Management is concerned with managing user accounts and data.
    condition:
      type: equalto                             # Can be: equalto, notequalto, always, custom
      property: type                            # Required for all except 'always'
      values:                                   # Required for all except 'always'
        - CodeFile`,
                    html: `
                        <h2>Overview</h2>
                        <p>The <code>BusinessCapabilityMapping</code> action processes nodes with LLM-generated summaries and maps them to business capabilities provided in the pipeline configuration. This enriches your codebase with business context by attaching meaningful, searchable capability nodes and summaries to technical code artifacts.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>What This Action Does</h2>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>Extracts summaries from input nodes.</li>
                            <li>Uses a language model to <strong>match each summary</strong> to a relevant business capability.</li>
                            <li>Stores two types of nodes:
                               <ul class="list-disc pl-6 mt-1">
                                  <li><code>CAPABILITY</code>: Represents the matched capability.</li>
                                  <li><code>CAPABILITY_SUMMARY</code>: Represents a summary of how the code contributes to the business capability.</li>
                               </ul>
                            </li>
                            <li>Generates vector embeddings and associates them with the nodes.</li>
                            <li>Creates indexes to support efficient retrieval.</li>
                        </ol>
                        <hr class="my-6 border-gray-300">
                        <h2>When to Use This Action</h2>
                        <p>Use this action when you want to:</p>
                        <ul class="space-y-2">
                            <li>Map technical code elements to high-level business capabilities.</li>
                            <li>Add semantic, business-oriented metadata to codebase nodes.</li>
                            <li>Support business-oriented code search, visualization, and clustering.</li>
                            <li>Enrich technical documentation with business meaning.</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>What It Produces</h2>
                        <p>This action creates two types of enriched nodes:</p>
                        <table>
                            <thead>
                                <tr>
                                    <th>Node Type</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>CAPABILITY</code></td>
                                    <td>Stores the mapped business capability (e.g., "User Management")</td>
                                </tr>
                                <tr>
                                    <td><code>CAPABILITY_SUMMARY</code></td>
                                    <td>Stores the summary explaining the capability in context</td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="mt-4">Each node includes:</p>
                        <ul class="space-y-2">
                            <li>A natural language summary</li>
                            <li>Vector embeddings</li>
                            <li>Capability metadata</li>
                            <li>A connection (<code>related_to_id</code>) to the original node</li>
                        </ul>
                        <hr class="my-6 border-gray-300">
                        <h2>Indexes Created</h2>
                        <table>
                            <thead>
                                <tr>
                                    <th>Index Type</th>
                                    <th>Index Name</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Vector</td>
                                    <td><code>capability-summary-embeddings</code></td>
                                    <td>For semantic similarity on capabilities</td>
                                </tr>
                                <tr>
                                    <td>Fulltext</td>
                                    <td><code>capability-summary-text</code></td>
                                    <td>For keyword-based capability lookup</td>
                                </tr>
                            </tbody>
                        </table>
                        <p class="mt-2">Additionally, nodes of type <code>CAPABILITY_SUMMARY</code> are labeled with <code>LLM_SUMMARY</code> for reuse and filtering.</p>
                        <hr class="my-6 border-gray-300">
                        <h2>YAML Configuration Example</h2>
                        <div class="code-block" data-lang="YAML"><pre><code class="language-yaml">- action:
    package: codeconcise.sdk.tools.comprehension.business_capability_mapping
    name: BusinessCapabilityMapping
    additional_args:
      capabilities:
        - Account Management
        - Inventory Tracking
      capabilities_descriptions:
        - Account Management is concerned with managing user accounts and data.
        - Inventory Tracking involves monitoring product stock levels and logistics.
  condition:
    type: equalto                 # Can be: equalto, notequalto, always, custom
    property: type                # Required for all except 'always'
    values:                       # Required for all except 'always'
      - CodeFile</code></pre></div>
                        <div class="note note-info mt-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Note:</strong> Always ensure the <code>capabilities</code> list is populated. The <code>capabilities_descriptions</code> field is optional but highly recommended for better accuracy.</p></div>
                        </div>
                        <div class="note note-info mt-4">
                             <svg xmlns="http://www.w3.org/2000/svg" class="note-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <div><p><strong>Note:</strong> Modify the <code>language</code>, <code>run_mode</code>, and <code>condition</code> based on your codebase and execution logic.</p></div>
                        </div>
                        <hr class="my-6 border-gray-300">
                        <h2>Internal Workflow Summary</h2>
                        <ul class="space-y-2">
                            <li>Extract summaries from nodes and serialize to file.</li>
                            <li>Prompt the LLM with a list of capabilities and ask it to classify each node.</li>
                            <li>Store responses as <code>CAPABILITY</code> nodes.</li>
                            <li>Generate secondary LLM summaries about <em>why</em> the node maps to the capability.</li>
                            <li>Store these as <code>CAPABILITY_SUMMARY</code> nodes and tag with <code>LLM_SUMMARY</code>.</li>
                            <li>Generate embeddings and build full-text and vector indexes.</li>
                        </ul>
                    `
                }
            };
            const mainConfigCodeElement = document.getElementById('main-config-yaml');
            const selectedTools = new Set();
            const selectedActions = new Set(['static_code_summary', 'dynamic_code_summary']);
            
            const baseConfigTemplate = `pipeline:
  db-name: \${NEO4J_DATABASE}
  output-path: \${OUTPUT_PATH}

  stages:
    - type: ingestion
      tools:
#INGESTION_TOOLS_PLACEHOLDER#

    - type: comprehension
      language: replace_with_language
      db_name: \${NEO4J_DATABASE}
      run_mode: sequential
      traversals:
        - package: codeconcise.sdk.tools.comprehension.bottom_up_traversal
          name: BottomUpTraversal
          enrichments:
#COMPREHENSION_ACTIONS_PLACEHOLDER#`;
            
            function updateConfigDisplay() {
                let toolsContent = '';
                if (selectedTools.size > 0) {
                    toolsContent = Array.from(selectedTools).map(key => {
                        const snippet = toolDetails[key].yamlSnippet;
                        const indentedSnippet = snippet.split('\n').map(line => '        ' + line).join('\n');
                        return `<span style="color: var(--color-flamingo);">${indentedSnippet}</span>`;
                    }).join('\n\n');
                } else {
                    toolsContent = '        <span class="text-gray-400"># Add tools from the Ingestion tools library above.</span>';
                }

                let actionsContent = '';
                if (selectedActions.size > 0) {
                    actionsContent = Array.from(selectedActions).map(key => {
                        const snippet = toolDetails[key].yamlSnippet;
                        const indentedSnippet = snippet.split('\n').map(line => '            ' + line).join('\n');
                        if (key === 'static_code_summary' || key === 'dynamic_code_summary') {
                            return indentedSnippet; // Default color
                        } else {
                            return `<span style="color: var(--color-sapphire);">${indentedSnippet}</span>`;
                        }
                    }).join('\n\n');
                }
                
                const defaultActionsExist = selectedActions.has('static_code_summary') && selectedActions.has('dynamic_code_summary');
                if (selectedActions.size === 2 && defaultActionsExist) {
                                 actionsContent += '\n            <span class="text-gray-400"># Add other actions from the library above</span>';
                }

                let newConfig = baseConfigTemplate.replace('#INGESTION_TOOLS_PLACEHOLDER#', toolsContent);
                newConfig = newConfig.replace('#COMPREHENSION_ACTIONS_PLACEHOLDER#', actionsContent);

                mainConfigCodeElement.innerHTML = newConfig;
            }


            // INITIALIZE
            updateConfigDisplay();
            initializeCodeBlock(mainConfigCodeElement.closest('.code-block'));


            const modal = document.getElementById('snippet-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalContent = document.getElementById('modal-content');
            const closeModalButton = document.getElementById('close-modal-button');

            function initializeCodeBlock(block) {
                if (!block) return;
                if (block.querySelector('.code-block-header')) {
                    if(block.id !== 'main-config-block') return;
                };

                const pre = block.querySelector('pre');
                if (!pre) return;

                const lang = block.dataset.lang;
                
                const oldHeader = block.querySelector('.code-block-header');
                if(oldHeader) oldHeader.remove();

                const header = document.createElement('div');
                header.className = 'code-block-header flex justify-between items-center rounded-t-md px-4 py-2 text-xs font-mono border-b';
                header.style.backgroundColor = '#002d3c'; // Darker blue
                header.style.borderColor = '#001e29';
                
                const langLabel = document.createElement('span');
                langLabel.className = 'text-slate-400';
                langLabel.textContent = lang || '';
                
                const copyButton = document.createElement('button');
                copyButton.className = 'flex items-center space-x-1 text-slate-400 hover:text-white';
                const originalButtonHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                    </svg>
                    <span>Copy</span>
                `;
                copyButton.innerHTML = originalButtonHTML;
                
                header.appendChild(langLabel);
                header.appendChild(copyButton);
                
                block.insertBefore(header, pre);
                pre.className = 'text-slate-200 text-sm rounded-b-md p-4 overflow-x-auto';
                pre.style.backgroundColor = 'var(--color-dark-blue)';
                block.style.borderRadius = '0.375rem';
                block.style.overflow = 'hidden';

                copyButton.addEventListener('click', () => {
                    const codeText = pre.querySelector('code').innerText;
                    navigator.clipboard.writeText(codeText).then(() => {
                        copyButton.innerHTML = `
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" style="color: var(--color-jade-green);" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                            </svg>
                            <span style="color: var(--color-jade-green);">Copied!</span>
                        `;
                        setTimeout(() => {
                           copyButton.innerHTML = originalButtonHTML;
                        }, 2000);
                    }).catch(err => {
                        const textArea = document.createElement('textarea');
                        textArea.value = codeText;
                        document.body.appendChild(textArea);
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            copyButton.innerHTML = `... Copied! ...`;
                        } catch (err) {
                            copyButton.querySelector('span').textContent = 'Failed!';
                        }
                        document.body.removeChild(textArea);
                        setTimeout(() => {
                           copyButton.innerHTML = originalButtonHTML;
                        }, 2000);
                    });
                });
            }

            document.querySelectorAll('.code-block').forEach(block => {
                if(block.querySelector('#main-config-yaml')) {
                    block.id = 'main-config-block';
                } else {
                    initializeCodeBlock(block)
                }
            });
            
            // OS Selector
            const osSelector = document.getElementById('os-selector');
            if (osSelector) {
                osSelector.addEventListener('click', (e) => {
                    if (e.target.tagName !== 'BUTTON') return;
                    const os = e.target.dataset.os;
                    
                    osSelector.querySelectorAll('button').forEach(btn => {
                        btn.classList.remove('btn-primary');
                        btn.classList.add('btn-outline');
                    });
                    e.target.classList.add('btn-primary');
                    e.target.classList.remove('btn-outline');

                    document.getElementById('linux-code-block').classList.toggle('hidden', os !== 'linux');
                    document.getElementById('windows-code-block').classList.toggle('hidden', os !== 'windows');
                });
            }

            // Config Selector Logic
            const configSelector = document.getElementById('config-selector');
            if (configSelector) {
                configSelector.addEventListener('click', (e) => {
                    if (e.target.tagName !== 'BUTTON') return;
                    const selectedCloud = e.target.dataset.cloud;

                    configSelector.querySelectorAll('button').forEach(button => {
                        button.classList.remove('btn-primary');
                        button.classList.add('btn-outline');
                    });
                    e.target.classList.add('btn-primary');
                    e.target.classList.remove('btn-outline');
                    
                    document.getElementById('aws-code-block').classList.toggle('hidden', selectedCloud !== 'aws');
                    document.getElementById('azure-code-block').classList.toggle('hidden', selectedCloud !== 'azure');
                });
            }

            // Dynamic Clone Command Logic
            const repoUrlInput = document.getElementById('repo-url-input');
            const cloneCommandCode = document.getElementById('clone-command-code');
            if (repoUrlInput && cloneCommandCode) {
                repoUrlInput.addEventListener('input', (e) => {
                    const url = e.target.value.trim();
                    const placeholderUrl = '<your-code-repo-url>';
                    const finalUrl = url ? url : placeholderUrl;
                    cloneCommandCode.innerText = `mkdir repo_data\ncd repo_data\ngit clone ${finalUrl}\ncd ..`;
                });
            }

            // Tab logic
            const ingestionTab = document.getElementById('ingestion-tab');
            const comprehensionTab = document.getElementById('comprehension-tab');
            const ingestionContent = document.getElementById('ingestion-content');
            const comprehensionContent = document.getElementById('comprehension-content');
            
            function handleTabClick(activeTab, inactiveTab, activeContent, inactiveContent) {
                activeTab.classList.add('tab-active');
                activeTab.classList.remove('text-dark-gray');
                inactiveTab.classList.remove('tab-active');
                inactiveTab.classList.add('text-dark-gray');
                activeContent.classList.remove('hidden');
                inactiveContent.classList.add('hidden');
            }

            ingestionTab.addEventListener('click', () => {
                handleTabClick(ingestionTab, comprehensionTab, ingestionContent, comprehensionContent);
            });
            comprehensionTab.addEventListener('click', () => {
                handleTabClick(comprehensionTab, ingestionTab, comprehensionContent, ingestionContent);
            });

            // ADD TO CONFIG and Modal logic
            document.querySelectorAll('.add-to-config-button').forEach(button => {
                const toolKey = button.dataset.tool;
                const card = button.closest('.tool-card');
                const details = toolDetails[toolKey];
                if (!details) return;

                const isDefaultAction = toolKey === 'static_code_summary' || toolKey === 'dynamic_code_summary';

                if (isDefaultAction) {
                    button.innerHTML = 'Added by Default';
                    button.disabled = true;
                    button.classList.add('btn-success', 'cursor-not-allowed', 'opacity-80');
                    if (card) {
                        card.classList.remove('card-unselected');
                        card.classList.add('card-enabled');
                    }
                } else {
                    const isIngestion = details.type === 'ingestion';
                    const isSelectedSet = isIngestion ? selectedTools : selectedActions;

                    button.addEventListener('click', () => {
                        if (!details.yamlSnippet) return;
                        
                        const isAdded = isSelectedSet.has(toolKey);
                        
                        if (isAdded) {
                            isSelectedSet.delete(toolKey);
                            button.innerHTML = 'Add to Config';
                            button.classList.remove('btn-danger');
                            button.classList.add('btn-primary');
                            if (card) {
                                card.classList.remove('card-enabled');
                                card.classList.add('card-unselected');
                            }
                        } else {
                            isSelectedSet.add(toolKey);
                            button.innerHTML = 'Remove from Config';
                            button.classList.remove('btn-primary');
                            button.classList.add('btn-danger');
                            if (card) {
                                card.classList.add('card-enabled');
                                card.classList.remove('card-unselected');
                            }
                        }

                        // Link Capability Extraction and Association
                        if (toolKey === 'capability_extraction') {
                            const capabilityAssociationCard = document.getElementById('capability-association-card');
                            if (capabilityAssociationCard) {
                                if (isSelectedSet.has('capability_extraction')) {
                                    capabilityAssociationCard.classList.add('card-enabled');
                                    capabilityAssociationCard.classList.remove('card-unselected');
                                } else {
                                    capabilityAssociationCard.classList.remove('card-enabled');
                                    capabilityAssociationCard.classList.add('card-unselected');
                                }
                            }
                        }

                        updateConfigDisplay();
                    });
                }
            });

            document.querySelectorAll('.view-docs-button').forEach(button => {
                button.addEventListener('click', () => {
                    const toolKey = button.dataset.tool;
                    const details = toolDetails[toolKey];
                    if (details) {
                        modalTitle.textContent = details.title;
                        modalContent.innerHTML = details.html;
                        modalContent.querySelectorAll('.code-block').forEach(initializeCodeBlock);
                        modal.classList.remove('hidden');
                    }
                });
            });

            closeModalButton.addEventListener('click', () => {
                modal.classList.add('hidden');
            });
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                }
            });
        });
    </script>

</body>
</html>
